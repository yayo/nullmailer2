commit 6567de3d2f5936692fd2e272688386efa95f11fb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 22 11:02:45 2016 -0600

    Add a trivial autogen.sh script, to generate autoconf/automake files

 autogen.sh | 5 +++++
 1 file changed, 5 insertions(+)
 create mode 100644 autogen.sh

commit 471b1b42c931129f78a5054f323223549d0ab268
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 22 10:51:09 2016 -0600

    Update dates in sources and README

 README                        | 4 ++--
 lib/address-old.cc            | 2 +-
 lib/address.cc                | 2 +-
 lib/base64.cc                 | 2 +-
 lib/canonicalize.cc           | 2 +-
 lib/cli++/clitest.cc          | 2 +-
 lib/cli++/main.cc             | 2 +-
 lib/cli++/messages.cc         | 2 +-
 lib/config_read.cc            | 2 +-
 lib/config_readint.cc         | 2 +-
 lib/config_readlist.cc        | 2 +-
 lib/config_syserr.cc          | 2 +-
 lib/errcodes.cc               | 2 +-
 lib/fdbuf/fdbuf.cc            | 2 +-
 lib/fdbuf/fdbuf.h             | 2 +-
 lib/fdbuf/fdbuf_copy.cc       | 2 +-
 lib/fdbuf/fdibuf.cc           | 2 +-
 lib/fdbuf/fdibuf.h            | 2 +-
 lib/fdbuf/fdibuf_mystring.cc  | 2 +-
 lib/fdbuf/fdibuf_netstring.cc | 2 +-
 lib/fdbuf/fdobuf.cc           | 2 +-
 lib/fdbuf/fdobuf.h            | 2 +-
 lib/fdbuf/fdobuf_chownmod.cc  | 2 +-
 lib/fdbuf/fdobuf_seek.cc      | 2 +-
 lib/fdbuf/fdobuf_signed.cc    | 2 +-
 lib/fdbuf/fdobuf_unsigned.cc  | 2 +-
 lib/fdbuf/tlsibuf.cc          | 2 +-
 lib/fdbuf/tlsibuf.h           | 2 +-
 lib/fdbuf/tlsobuf.cc          | 2 +-
 lib/fdbuf/tlsobuf.h           | 2 +-
 lib/hostname.cc               | 2 +-
 lib/makefield.cc              | 2 +-
 lib/mystring/count.cc         | 2 +-
 lib/mystring/iter.cc          | 2 +-
 lib/mystring/iter.h           | 2 +-
 lib/mystring/join.h           | 2 +-
 lib/mystring/mystring.h       | 2 +-
 lib/mystring/rep.h            | 2 +-
 lib/selfpipe.cc               | 2 +-
 lib/setenv.cc                 | 2 +-
 lib/tcpconnect.cc             | 2 +-
 protocols/protocol.cc         | 2 +-
 protocols/qmqp.cc             | 2 +-
 protocols/smtp.cc             | 2 +-
 protocols/tls_gnutls.cc       | 2 +-
 protocols/tls_none.cc         | 2 +-
 src/dsn.cc                    | 2 +-
 src/inject.cc                 | 2 +-
 src/mailq.cc                  | 2 +-
 src/queue.cc                  | 2 +-
 src/send.cc                   | 2 +-
 src/sendmail.cc               | 2 +-
 src/smtpd.cc                  | 2 +-
 53 files changed, 54 insertions(+), 54 deletions(-)

commit 1971c4506e336d60439ae4539b0742cea2a648fb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 22 10:35:22 2016 -0600

    Remove done items from the TODO list

 TODO | 14 ++------------
 1 file changed, 2 insertions(+), 12 deletions(-)

commit 9819b7b97b42255e9f8f25d951d9ac91989c0066
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 16:08:03 2016 -0600

    Add a "check" make target and fix distcheck problems

 Makefile.am                    |  3 ---
 test/Makefile.am               | 18 +++++++++---------
 test/functions.in              | 22 +++++++++++++++++-----
 test/{runtests.in => runtests} |  9 +++------
 test/tests/dsn                 |  2 +-
 test/tests/mailq               |  4 ++--
 test/tests/send                |  2 +-
 test/tests/smtpd               |  1 -
 8 files changed, 33 insertions(+), 28 deletions(-)
 rename test/{runtests.in => runtests} (63%)
 mode change 100644 => 100755

commit 80260ff8cf0761bfa50598fe166ca965afaa3a85
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 16:45:56 2016 -0600

    Rework path handling to allow for testing anywhere
    
    This introduces a $NULLMAILER_TEST_PREFIX environment variable that may
    be used to override built-in paths to programs, the queue, etc.
    
    In particular:
    
    $NULLMAILER_TEST_PREFIX/bin is used for programs
    
    $NULLMAILER_TEST_PREFIX/conf is used for config files
    
    $NULLMAILER_TEST_PREFIX/queue is used for the queue directories
    
    $NULLMAILER_TEST_PREFIX/protocols is used for protocol programs
    
    $NULLMAILER_TEST_PREFIX/sbin is used for system programs (nullmailer-queue)
    
    These overrides are not used by programs such as mailq and
    nullmailer-queue when they are running setuid to avoid privilege
    escalation problems.

 lib/Makefile.am                           |  3 ++-
 lib/{config_readint.cc => config_path.cc} | 40 ++++++++++++++++++++++++-------
 lib/config_read.cc                        |  3 +--
 lib/config_readlist.cc                    |  3 +--
 lib/configio.h                            |  3 +++
 lib/defines.h                             | 11 +++++----
 lib/forkexec.cc                           | 21 +++++++---------
 lib/forkexec.h                            |  3 ++-
 lib/make_defines.sh                       | 13 ++++------
 src/mailq.cc                              | 14 ++++++-----
 src/queue.cc                              | 20 +++++++++++-----
 src/send.cc                               | 16 +++++++++----
 src/sendmail.cc                           |  5 ++--
 test/Makefile.am                          |  2 +-
 test/functions.in                         | 17 +++++++------
 test/runtests.in                          |  9 +------
 test/tests/inject/queue                   |  9 +++----
 test/tests/mailq                          |  4 ++--
 test/tests/queue/rewrite                  |  8 +++----
 test/tests/send                           |  4 ++--
 20 files changed, 120 insertions(+), 88 deletions(-)
 copy lib/{config_readint.cc => config_path.cc} (57%)

commit 0f4f095ff406eb8ece43732d61ada0ca4f501ec5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 16:30:27 2016 -0600

    dsn: Add controls to limit how much of the message to copy

 doc/nullmailer-dsn.1 | 14 ++++++++++++++
 src/dsn.cc           | 19 ++++++++++++++++---
 test/tests/dsn       | 22 +++++++++++++++++++++-
 3 files changed, 51 insertions(+), 4 deletions(-)

commit 0aa713238549bafcae6d5a1d805b69e3396b4458
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 12:45:08 2016 -0600

    Move spool directory to /var/spool/nullmailer, like other MTAs

 Makefile.am                |  2 +-
 NEWS                       |  2 ++
 doc/nullmailer-queue.8     |  6 +++---
 doc/nullmailer-send.8      |  6 +++---
 lib/Makefile.am            |  2 +-
 scripts/nullmailer.service |  4 ++--
 spec                       | 11 ++++++-----
 test/functions.in          |  2 +-
 test/tests/inject/queue    |  8 ++++----
 test/tests/queue/rewrite   |  4 ++--
 test/tests/smtpd           |  2 +-
 11 files changed, 26 insertions(+), 23 deletions(-)

commit 1ff9b88936b4a6463ca0813361f8e88f811d2629
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 11:41:52 2016 -0600

    Fix problems found by "make distcheck"

 Makefile.am              |  7 ++++---
 lib/Makefile.am          | 16 +++++++---------
 lib/cli++/Makefile.am    |  2 +-
 lib/fdbuf/Makefile.am    |  2 +-
 lib/mystring/Makefile.am |  2 +-
 protocols/Makefile.am    |  2 +-
 protocols/protocol.cc    |  2 +-
 src/Makefile.am          |  2 +-
 src/smtpd.cc             |  2 +-
 test/Makefile.am         |  8 ++++----
 10 files changed, 22 insertions(+), 23 deletions(-)

commit 8f5cd1d90861d0a2133c2112c157b01138645f67
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 21 08:37:12 2016 -0600

    test: Drop use of $PWD in tests

 test/functions.in | 2 +-
 test/tests/send   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit eab2761bfaccf4fa1da39d33c1534236ffc1d725
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 20 15:29:58 2016 -0600

    test: Move temporary directory out of test

 .gitignore       | 2 +-
 test/runtests.in | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 54314296ed1753e83782e1856c14ca5615418331
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 20 15:18:17 2016 -0600

    dsn: Allow for directing all bounces to a fixed address

 doc/nullmailer-dsn.1 | 6 +++++-
 src/dsn.cc           | 5 ++++-
 test/tests/dsn       | 7 ++++++-
 3 files changed, 15 insertions(+), 3 deletions(-)

commit 481224fb15502629b7f688ed4c66cf6feefd6fc7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 20 15:07:46 2016 -0600

    dsn: Fix Content-Type header and add a test

 src/dsn.cc        |  2 +-
 test/functions.in | 15 ++++++++++
 test/tests/dsn    | 83 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 99 insertions(+), 1 deletion(-)
 create mode 100644 test/tests/dsn

commit a0d1b330ce00fa22ee469d03f50930f4a65b3243
Merge: a8261e0 97f0512
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 20 09:20:07 2016 -0600

    Merge branch 'bounce'

commit a8261e028286a719b4ff4e81a2ce9e39ce4216ae
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 20 06:47:14 2016 -0600

    test: Fix up location of log for send test

 test/tests/send | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 958b9015d0f2f0bb0995197afaaceda6a061867a
Merge: 9ac7c4d 9e1b54f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 19 09:27:44 2016 -0600

    Merge branch 'log-envelope'

commit 97f05128cdc483387e7826c4a9dd9f174910329c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 19 08:14:13 2016 -0600

    send: Catch the output from protocols for the DSN diagnostic codes

 lib/forkexec.h        |  1 +
 protocols/protocol.cc |  6 ++++--
 src/send.cc           | 52 +++++++++++++++++++++++++++++++++++++++++++--------
 test/tests/send       | 12 ++++++++++--
 4 files changed, 59 insertions(+), 12 deletions(-)

commit 56e90a1774b81462c5ca738d9a3dcc747d77d2c5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 21:31:22 2016 -0600

    doc: Updated diagram

 doc/DIAGRAM     | 25 +++++++++++++++++++++++++
 doc/Makefile.am |  2 +-
 doc/diagram     | 21 ---------------------
 spec            |  2 +-
 4 files changed, 27 insertions(+), 23 deletions(-)
 create mode 100644 doc/DIAGRAM
 delete mode 100644 doc/diagram

commit aaa77ab70dd499f2e768108ed9e3e406271cf787
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 20:58:22 2016 -0600

    doc: Add man page for nullmailer-dsn to Makefile

 doc/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit c347e63bcec01e28774d4050a89382e60dff29bf
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 20:50:47 2016 -0600

    send: Ignore dotfiles in the queue

 src/send.cc | 2 ++
 1 file changed, 2 insertions(+)

commit 4dc827163034eb721c6f1e743bfaa1a447d64a8e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 20:49:51 2016 -0600

    send: Add support for generating bounce messages

 NEWS                  |  2 +-
 doc/nullmailer-send.8 |  6 ++++--
 lib/forkexec.cc       | 11 ++++++++---
 lib/forkexec.h        |  1 +
 src/send.cc           | 25 ++++++++++++++++++++++---
 test/functions.in     |  3 ++-
 test/tests/send       | 37 +++++++++++++++++++++++++++++++------
 7 files changed, 69 insertions(+), 16 deletions(-)

commit b83af86a6fe9f308e51ed9528df700acce1626fd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 12:04:41 2016 -0600

    lib: Add program_path function for calculating program names

 lib/forkexec.cc | 24 +++++++++++++++---------
 lib/forkexec.h  |  3 +++
 src/sendmail.cc |  8 +++-----
 3 files changed, 21 insertions(+), 14 deletions(-)

commit 84e4916f1a3fed45ac55611b342f661e9b0c7644
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 11:39:45 2016 -0600

    doc: Add notes to -send man page about the failed queue, and other fixes

 doc/nullmailer-send.8 | 53 +++++++++++++++++++++++++++++++++------------------
 1 file changed, 34 insertions(+), 19 deletions(-)

commit 58a361cad086e3f71dbb5152878d174f5616ac59
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 09:00:30 2016 -0600

    lib: Add support for generic FD redirection in fork_exec

 lib/forkexec.cc | 76 +++++++++++++++++++++++++++++++--------------------------
 lib/forkexec.h  | 11 +++++----
 src/inject.cc   |  6 +++--
 src/send.cc     |  7 +++---
 src/smtpd.cc    | 13 +++++-----
 5 files changed, 63 insertions(+), 50 deletions(-)

commit de98c6ccc2a3aef3c5302e1ce52ecb6ac53c5fbf
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 09:31:29 2016 -0600

    lib: Add autoclose_pipe class to simplify use of pipes

 lib/autoclose.h | 38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 28f6d9561599365f00c5a0a25166e45a2bd1334d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 15:40:55 2016 -0600

    send: Use fork_exec to execute the protocol

 lib/forkexec.cc | 17 +++++++++++++---
 lib/forkexec.h  |  3 +++
 src/send.cc     | 60 +++++++++++++++++----------------------------------------
 3 files changed, 35 insertions(+), 45 deletions(-)

commit a712b0845da4ee3a1fc7b801713e15c3c193eb01
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 15:40:31 2016 -0600

    lib: Add support for redirecting a (single) FD in fork_exec

 lib/forkexec.cc | 7 ++++++-
 lib/forkexec.h  | 2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 5850a49ade78d36ce33d70c28198b9cf2fb8fbdd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 11:40:38 2016 -0600

    lib: Add fork_exec wrapper class for launching sub-programs

 lib/Makefile.am |   1 +
 lib/autoclose.h |   7 ++-
 lib/forkexec.cc | 136 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 lib/forkexec.h  |  32 +++++++++++++
 src/inject.cc   | 108 +++++++++++++-------------------------------
 src/send.cc     |   1 +
 src/smtpd.cc    |  63 +++++---------------------
 7 files changed, 217 insertions(+), 131 deletions(-)
 create mode 100644 lib/forkexec.cc
 create mode 100644 lib/forkexec.h

commit 2e3075039213af49353a6bff781fddba1c601300
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 16:27:26 2016 -0600

    lib: Add helper to close FDs at function return

 lib/autoclose.h | 25 +++++++++++++++++++++++++
 src/queue.cc    |  7 +++----
 src/send.cc     |  7 +++----
 src/smtpd.cc    | 37 +++++++++++++++++++------------------
 4 files changed, 50 insertions(+), 26 deletions(-)
 create mode 100644 lib/autoclose.h

commit ecd433c8311c08cc328422f8d98dffd8a4a0f21d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 14:53:35 2016 -0600

    doc: Added documentation for -dsn

 NEWS                    |   2 +
 doc/nullmailer-dsn.1    | 107 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/nullmailer-inject.1 |  16 ++++----
 doc/nullmailer.7        |  11 ++---
 4 files changed, 123 insertions(+), 13 deletions(-)
 create mode 100644 doc/nullmailer-dsn.1

commit a5917e4b0a5cde4709da6bcdd2bc0f04700f65eb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 14:52:44 2016 -0600

    dsn: Generalized --smtp-diagnostic option to --diagnostic-code

 src/dsn.cc | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 3bf1ff020640d74ab292e57858c2f9c0cd86d378
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 12:07:58 2016 -0600

    Add NEWS note about -send changes and bump version to 2.00

 NEWS         | 5 ++++-
 README       | 2 +-
 configure.ac | 2 +-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 9e1b54fa242abf87e4170ac819f8a0e3edcc2799
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 19 09:25:39 2016 -0600

    send: Also log the Message-Id header

 src/send.cc     | 16 +++++++++++-----
 test/tests/send |  2 ++
 2 files changed, 13 insertions(+), 5 deletions(-)

commit b53e20452fba446b8fb81662b053e7256b20fada
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 16:36:59 2016 -0600

    send: Add support for logging envelope contents

 NEWS            |  2 ++
 src/send.cc     | 36 +++++++++++++++++++++++++++++++++---
 test/tests/send |  5 +++++
 3 files changed, 40 insertions(+), 3 deletions(-)

commit 9ac7c4d60a730bb3cd83cb727468e9455c0bbfd1
Merge: 861d78f d3afb60
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 18 09:32:32 2016 -0600

    Merge branch 'bind-source'

commit 861d78f55a2e82aa13792300d4a7502fb056b05a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 17:15:44 2016 -0600

    Add "tests" make target to simplify testing

 Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit 01eebcc594ab3c86fcbad38abdecd0ee9d546e0b
Merge: be238ba 0f358eb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 17:14:35 2016 -0600

    Merge branch 'empty-sender'

commit d3afb601c93e36cfd0cbf5b0962baacc1e88e956
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 16:36:44 2016 -0600

    protocols: Add support for binding the source address

 NEWS                  |  2 ++
 doc/nullmailer-send.8 |  3 +++
 lib/connect.h         |  2 +-
 lib/errcodes.cc       |  1 +
 lib/errcodes.h        |  1 +
 lib/tcpconnect.cc     | 62 +++++++++++++++++++++++++++++++++++++++++++--------
 protocols/protocol.cc |  5 ++++-
 test/tests/protocols  |  9 ++++++++
 8 files changed, 74 insertions(+), 11 deletions(-)

commit 5e91ef61f7ec0638d8d7aa42da328161fa232aa8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 16:01:12 2016 -0600

    lib: Move getaddrinfo bits out of tcpconnect function

 lib/tcpconnect.cc | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit 4431872a97c331dfe363c1e492dfe3da75063f00
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 15 16:50:29 2016 -0600

    lib: Drop use of mystring for tcpconnect hostname parameter

 lib/connect.h         |  4 +---
 lib/tcpconnect.cc     | 10 +++++-----
 protocols/protocol.cc |  1 +
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 798daf0b27cf56fea497ef125c440f81133a0bfc
Merge: 9bb74bc 2cb6ea2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 11:40:01 2016 -0600

    Merge branch 'master' into bounce

commit be238baba9de88dd71bd3217494fe1c8c263427a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 12:24:52 2016 -0600

    doc: -inject prints diagnostics to stderr not stdout

 doc/nullmailer-inject.1 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2cb6ea21c0006cf0aa4ab4041616f1b394eb754e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 11:30:43 2016 -0600

    test: Choose a random port for protocol tests

 test/functions.in    |  3 +--
 test/tests/protocols | 18 ++++++++++--------
 test/tests/send      |  1 -
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 0f358ebb11684e5a6c3ae55c89a2e3f43bc2bf4b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 10:11:03 2016 -0600

    inject: Add support for setting a null sender with -f

 NEWS                     |  3 ++-
 src/inject.cc            |  6 ++++--
 test/tests/inject/sender | 14 +++++++++++++-
 3 files changed, 19 insertions(+), 4 deletions(-)

commit e390910b70099586f7e2c4540feae0d44682807a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 10:26:11 2016 -0600

    test: Ignore all dotfiles in tests, not just .*.swp from vim

 test/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65a86687c2314b3164a8648dd98eca79b44061e0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 10:08:04 2016 -0600

    Add note about -queue accepting the null sender

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 5f275304189782b1bd48b0c62f3e96f2cd18d979
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 09:51:40 2016 -0600

    inject: Add a use_header_sender flag
    
    This removes the dependency on sender being empty when it is not set.

 src/inject.cc | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 10de6736ac67d86c16cf9fe7abdc22515c7cbfd5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 09:34:19 2016 -0600

    doc: Some fixes to the -inject man page

 doc/nullmailer-inject.1 | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit fcc790e023c44c9775c8532a11dde5fb39802165
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 07:15:01 2016 -0600

    test: Make sure -smtpd accepts empty sender

 test/tests/smtpd | 4 ++++
 1 file changed, 4 insertions(+)

commit 716df3be126923cfefbc9086a08183e6543cf055
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 21:06:02 2016 -0600

    test: Normalize the smtp/qmqp accept success tests

 test/accept-qmqp.sh  |  1 +
 test/accept-smtp.sh  |  7 +++++++
 test/tests/protocols | 39 ++++++++++++++-------------------------
 3 files changed, 22 insertions(+), 25 deletions(-)
 create mode 100644 test/accept-qmqp.sh
 create mode 100644 test/accept-smtp.sh

commit 04c248a52bd00c7ceb044e62f35424c2e182f4c4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 21:05:21 2016 -0600

    test: Add srcdir to runtests script

 test/Makefile.am  | 2 +-
 test/functions.in | 1 +
 test/runtests.in  | 5 +++--
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 6c4434b5e1835c529c72243287df282dcf9650de
Merge: 894fcc1 aaf2026
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jan 14 07:20:08 2016 -0600

    Merge branch 'ipv6'

commit 894fcc11df471356d7ddff6bca7e2b4397c3e314
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 20:00:03 2016 -0600

    Update the configure system for newer autoconf/automake

 .gitignore                   | 1 +
 configure.in => configure.ac | 4 ++--
 lib/cli++/Makefile.am        | 2 +-
 lib/fdbuf/Makefile.am        | 2 +-
 lib/mystring/Makefile.am     | 2 +-
 protocols/Makefile.am        | 2 +-
 src/Makefile.am              | 2 +-
 test/Makefile.am             | 6 +++---
 8 files changed, 11 insertions(+), 10 deletions(-)
 rename configure.in => configure.ac (97%)

commit aaf202655000d98ba15379cbd33f78527c5a5c36
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 20:48:02 2016 -0600

    lib: Add support for IPv6 for outgoing connections

 NEWS                 |  2 ++
 lib/tcpconnect.cc    | 75 +++++++++++++++++++++++++++++++++++++++++-----------
 test/tests/protocols |  8 +++++-
 3 files changed, 69 insertions(+), 16 deletions(-)

commit 2c0812b0c2045a8f0aed0b3318d0ff5c9930dcb5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 20:10:50 2016 -0600

    Add test for getaddrinfo to configure

 configure.in | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 5206846d7fe19537ebceff61d300622d06a78fa3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 17:34:37 2016 -0600

    queue: Accept empty envelope sender address

 src/queue.cc              | 4 ++--
 test/tests/queue/validate | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 3278522a7f271dbabe813925b6582a341d6dbf2d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 17:33:15 2016 -0600

    queue: Fix an envelope validation check and add tests

 src/queue.cc              |  2 +-
 test/functions.in         | 24 ++++++++++++++++++---
 test/tests/queue/validate | 55 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 77 insertions(+), 4 deletions(-)
 create mode 100755 test/tests/queue/validate

commit 6c0ce505a7618caa5c493741c53c1f2591749358
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 13 09:31:06 2016 -0600

    protocols: Fix gnutls integer pointer size mismatch warning

 NEWS                    | 2 ++
 protocols/tls_gnutls.cc | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 9284992b5eabeb420b98ce6717aba1136710b859
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 17:11:31 2016 -0600

    doc: Some fixes for the sendmail man page

 doc/sendmail.1 | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 4a6e47edbae0bafe7bb9ad578e119031fe4d0210
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 17:00:10 2016 -0600

    Fix typo: seperate => separate

 NEWS                    | 2 +-
 TODO                    | 4 ++--
 doc/nullmailer-inject.1 | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 3d73290d5745eb97687ae8ff4440f5c660b6f99b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 16:56:47 2016 -0600

    doc: Add missing control files to nullmailer.7

 doc/nullmailer.7 | 5 +++++
 1 file changed, 5 insertions(+)

commit 397a1d3332a0631ccf6a2743786592dc5297a464
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 16:47:39 2016 -0600

    inject: Report errors on stderr, not stdout

 NEWS          |  2 ++
 src/inject.cc | 14 +++++++-------
 2 files changed, 9 insertions(+), 7 deletions(-)

commit d158280e4b79a97e7e292c19af1430ac3d61e3cb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 16:37:18 2016 -0600

    Add systemd nullmailer service file

 scripts/nullmailer.service | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)
 create mode 100644 scripts/nullmailer.service

commit ce2b78cf827905124fba6de4d4efbb097cf2b717
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 15:45:40 2016 -0600

    protocols: Fix handling of options passed from -send

 protocols/protocol.cc |  7 +++++--
 test/functions.in     | 17 ++++++++++++++++-
 test/tests/protocols  | 36 +++++++++++++++++++++++++++++-------
 3 files changed, 50 insertions(+), 10 deletions(-)

commit 856ed189ebd5179924c442f131aa45cdfacb83a8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 15:25:58 2016 -0600

    lib/cli++: Move call to build_options into main out of cli_parse_args

 lib/cli++/main.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5188f0b560ab192f18b01f420164202d384b5ffd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 09:45:46 2016 -0600

    test: Make sure -send sets host in dummy protocol

 test/tests/send | 2 ++
 1 file changed, 2 insertions(+)

commit eeb0fba50b92564ada32f03858237c507d61ea57
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 09:45:12 2016 -0600

    test: Move temporary directory to test/tmp
    
    This moves the temporary test directory out of /tmp and into test/tmp,
    and verifies that the sources were configured with the proper prefix
    path.

 .gitignore                       |  3 +++
 test/Makefile.am                 |  2 +-
 test/{functions => functions.in} |  3 ++-
 test/runtests.in                 | 16 ++++++++++++++--
 test/tests/queue/rewrite         | 12 ++++++------
 5 files changed, 26 insertions(+), 10 deletions(-)
 rename test/{functions => functions.in} (96%)

commit f9d326fcc74ab941e232b7aebe784f89ccad54d5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 09:28:48 2016 -0600

    test: Move running tests into a script
    
    This makes it a little simpler to run the individual tests by hand.

 .gitignore       |  3 +++
 test/Makefile.am | 17 ++++++++---------
 test/runtests.in | 14 ++++++++++++++
 3 files changed, 25 insertions(+), 9 deletions(-)
 create mode 100644 test/runtests.in

commit 9663b43742381466855d64112b254a1d095b7a34
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 12 10:26:03 2016 -0600

    lib/defines: Turn defines into real constant strings, not just pointers

 lib/defines.h       | 16 ++++++++--------
 lib/make_defines.sh | 18 ++++++++++--------
 2 files changed, 18 insertions(+), 16 deletions(-)

commit cb6098a4f111abf86b34337b8a28333c370e443a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu May 21 11:50:17 2015 -0600

    protocols: Log success/failure to stdout instead of stderr

 protocols/protocol.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit be8a42054b7ce0f39fd2d077ca62b9e899762a15
Merge: a5b4dd2 a8420e9
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue May 26 17:27:03 2015 -0600

    Merge pull request #16 from abh/patch-1
    
    Update spec file to use Requires(pre,preun)

commit a5b4dd2d1d3291ddd5dda7b422a987795cc58606
Author: Michael T. Babcock <mike@triplepc.ca>
Date:   Thu May 21 11:06:04 2015 -0600

    protocols: Add support for older versions of gnutls
    
    I have had a problem compiling nullmailer 1.13 with gnutls 1.4.1 (CentOS
    5), so I added the following patch to make it work:

 protocols/tls_gnutls.cc | 5 +++++
 1 file changed, 5 insertions(+)

commit ed80ca125fbf418f6437fd166b921907cd3a70bf
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu May 21 11:01:01 2015 -0600

    protocols: Add option to set a separate TLS client cert private key file

 NEWS                    | 2 ++
 doc/nullmailer-send.8   | 5 +++++
 protocols/protocol.cc   | 2 ++
 protocols/protocol.h    | 1 +
 protocols/tls_gnutls.cc | 5 ++++-
 5 files changed, 14 insertions(+), 1 deletion(-)

commit ee3082c960c0de4764b4bfef688bac97a6346a9a
Merge: 70b4498 5e9316c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu May 21 10:38:46 2015 -0600

    Merge pull request #25 from blueness/musl
    
    lib/fdbuf/fdbuf.h: include <unistd.h>

commit 70b449872633ff288189ea0cc41f00b082c97b5a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu May 21 09:09:35 2015 -0600

    protocols: Rename ssl options to tls

 doc/nullmailer-send.8 | 10 ++++++++--
 protocols/protocol.cc | 14 ++++++++------
 protocols/protocol.h  |  4 ++--
 protocols/qmqp.cc     |  2 +-
 protocols/smtp.cc     |  2 +-
 5 files changed, 20 insertions(+), 12 deletions(-)

commit 1978cd40a5dde7359075c63c68b6e1f294c92c34
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed May 20 20:57:43 2015 -0600

    send: Document the protocol options in the man page

 doc/nullmailer-send.8 | 70 +++++++++++++++++++++++++++++++++++----------------
 1 file changed, 48 insertions(+), 22 deletions(-)

commit 3d2aa642dc7215b36afa494ff2e3631617781df5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed May 20 20:43:59 2015 -0600

    send: Note that the leading "--" before protocol options is optional

 doc/nullmailer-send.8 | 3 +++
 1 file changed, 3 insertions(+)

commit 74aeb537149c92eb4b8ba8173fc2d60eec086038
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed May 20 20:28:08 2015 -0600

    send: Add support for quoted options to the "remotes" file

 NEWS                  |  2 ++
 doc/nullmailer-send.8 |  3 ++-
 src/send.cc           | 25 +++----------------------
 3 files changed, 7 insertions(+), 23 deletions(-)

commit a5e04f340d62962f378b27a3bccc85bc0050389e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed May 20 20:04:20 2015 -0600

    lib/argparse: Add sh-like argument parsing, for use in remotes file

 .gitignore            |  1 +
 lib/Makefile.am       |  1 +
 lib/argparse.cc       | 60 +++++++++++++++++++++++++++++++++++++++++++++++++++
 lib/argparse.h        | 10 +++++++++
 test/Makefile.am      |  8 +++++--
 test/argparse-test.cc | 49 +++++++++++++++++++++++++++++++++++++++++
 6 files changed, 127 insertions(+), 2 deletions(-)
 create mode 100644 lib/argparse.cc
 create mode 100644 lib/argparse.h
 create mode 100644 test/argparse-test.cc

commit 29734e270ab05f9493c4c8bce189ccda1e5669a5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun May 17 17:11:14 2015 -0600

    Add NEWS note about command line handling change

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 4f6672db2117920e2ec1b53cbeb837d5857bb169
Merge: da55b71 b181a6d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun May 17 17:09:58 2015 -0600

    Merge branch 'pipe-options'

commit b181a6d6ea363b52d8fa35949f61719300e3d9ca
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Apr 19 11:21:53 2013 -0600

    send: Send all options to protocol modules on a pipe on FD 0, and message on FD 3

 src/send.cc | 36 +++++++++++++++++++++++++-----------
 1 file changed, 25 insertions(+), 11 deletions(-)

commit 3588792105373e243cef3462aa2e0797f43a0a8b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Apr 19 11:09:07 2013 -0600

    send: Turn options list into string (dummy commit)

 src/send.cc | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit c540d9ee8961e216da58583891ca8738176e827c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Apr 19 11:04:27 2013 -0600

    protocols: Handle configuration options on stdin, message on FD 3
    
    Options are read in one per line, terminated by an empty line. Format is
    	name=value
    where "name" is one of the long cli options (see --help output).

 protocols/protocol.cc | 41 ++++++++++++++++++++++++++++++++++-------
 test/functions        |  3 ++-
 test/tests/protocols  | 14 +++++++-------
 test/tests/send       |  5 ++---
 4 files changed, 45 insertions(+), 18 deletions(-)

commit 304992617a4f27be6e501244c3d91ae1aba13c5a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Apr 21 16:25:47 2013 -0600

    lib/cli++: Expose command-line parsing function

 lib/cli++/cli++.h | 1 +
 lib/cli++/main.cc | 6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 5e9316c669e752fcd9058b28952919bccd967640
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Sat Jan 31 23:55:48 2015 +0000

    lib/fdbuf/fdbuf.h: include <unistd.h>
    
    class fdobuf in lib/fdbuf/fdobuf.h makes use of uid_t and gid_t,
    but these are defined in <unistd.h> according to POSIX.  With libc's
    that adhere strictly to standards, like musl, this breaks the build.
    
    We add <unistd.h> to fdbuf.h which is included by fdbuf.h.
    
    Signed-off-by: Anthony G. Basile <blueness@gentoo.org>

 lib/fdbuf/fdbuf.h | 1 +
 1 file changed, 1 insertion(+)

commit a8420e922854f01cd35c74d2a362d5197f4f5000
Author: Ask Bjørn Hansen <ask@develooper.com>
Date:   Sun Mar 2 15:20:08 2014 -0800

    Update spec file to use Requires(pre,preun)
    
    PreReq appears to be deprecated since some old version of RPM in favor of "Requires(pre,preun)".

 spec | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da55b71b6136bcefc7aa784a7f9fd45987670a7a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Sep 13 13:56:24 2013 -0600

    queue: Add an "allmailfrom" control file, to force a fixed sender

 NEWS                     |  3 +++
 doc/nullmailer-queue.8   |  4 ++++
 src/queue.cc             |  4 ++++
 test/tests/queue/rewrite | 26 ++++++++++++++++++++++++++
 4 files changed, 37 insertions(+)

commit 43601e41dd9160c09751a15fd7fcbe6003a61755
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Sep 13 13:54:22 2013 -0600

    Drop extraneous -q in tests/queue/rewrite

 test/tests/queue/rewrite | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f2c74f27ad9ea1786efc7c66a831dd6eb8d60cc5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Sep 13 13:30:21 2013 -0600

    Add news note for error handling changes

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit c3a800acde4aab80e05a4ca31f1ff0912640368c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Sep 13 13:29:26 2013 -0600

    Bump version to 1.14

 NEWS         | 5 +++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit d799dc705629b91de4d54959e7e9621d99a76dc4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Sep 13 13:23:02 2013 -0600

    queue: Drop the remapadmin boolean
    
    It is completely unneeded, since adminaddr will always be non-empty when
    it would be true.

 src/queue.cc | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 3f93a80fc2ff3fa99e7149c8d56d70db8c638233
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Sep 4 13:06:45 2013 -0600

    queue: Rename parameter to validate_addr to avoid confusion

 src/queue.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 24f33039863c99e3d466a723b0b21fa2e808b4fa
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 27 16:26:43 2013 -0600

    nullmailer-send: Reword multiple remote documentation to match actual behavior

 doc/nullmailer-send.8 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3cde27af63d6509aaf52c45bc1595f90a4574680
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 18 11:48:54 2013 -0600

    send: Reorganize exec_remote to be a member of struct remote

 src/send.cc | 35 +++++++++++++++++++----------------
 1 file changed, 19 insertions(+), 16 deletions(-)

commit 1d4d8405b3b3011061f35369eaec9bee2fa004e0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 18 11:35:03 2013 -0600

    send: Improve error messages when reading config files

 src/send.cc | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit 9de2e74f64f7daf017ebf4c5220c797b380994b2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 18 07:53:27 2013 -0600

    Make system errors on reading config files fatal (with useful message)

 lib/Makefile.am                               |  2 +-
 lib/config_read.cc                            |  2 ++
 lib/config_readlist.cc                        |  2 +-
 protocols/tls_none.cc => lib/config_syserr.cc | 21 +++++++++------------
 lib/configio.h                                |  1 +
 src/Makefile.am                               |  6 +++---
 src/queue.cc                                  |  2 ++
 src/send.cc                                   |  2 ++
 8 files changed, 21 insertions(+), 17 deletions(-)
 copy protocols/tls_none.cc => lib/config_syserr.cc (74%)

commit 4aff5a4e9251a0f189015b90f02c6e8edd3c3ffc
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Apr 17 17:36:49 2013 -0600

    lib/cli++: Add helper function for outputting fatal system errors

 lib/cli++/cli++.h     |  6 ++++++
 lib/cli++/messages.cc | 54 +++++++++++++++++++++++++++++++++++++--------------
 2 files changed, 45 insertions(+), 15 deletions(-)

commit 437bb66c9c468c9bc8cc5e21bdcd6c6a28291b75
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Apr 17 17:36:31 2013 -0600

    Add ERR_CONFIG error code for problems reading config files

 lib/errcodes.cc | 1 +
 lib/errcodes.h  | 1 +
 2 files changed, 2 insertions(+)

commit 048f87ccd1f6e3c86a3b27b6ed69ddb1201ec669
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 15 08:47:46 2013 -0600

    Stamp version 1.13

 NEWS         | 4 ++++
 README       | 7 +++++--
 configure.in | 2 +-
 3 files changed, 10 insertions(+), 3 deletions(-)

commit af1bd422d127ea968d708952ff49a6c3bb0f44a5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 15 08:46:52 2013 -0600

    sendmail: Document the -b[mps] mode options in the man page

 doc/sendmail.1 | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 4d89f70c1e2e414444d1e5087685e3deec3d2f0f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Apr 12 10:46:22 2013 -0600

    smtpd: Fix growing recipient list when sending multiple messages
    
    If the client program sends multiple messages without issuing the RSET
    command, the recipient list would not get cleared. As a result, the
    second message would have its recipient list added to that of the first,
    and so on. This change simply resets the list internally.

 NEWS             | 4 ++++
 src/smtpd.cc     | 1 +
 test/tests/smtpd | 6 ++++++
 3 files changed, 11 insertions(+)

commit 2de136d139e7a37a06300f75b99aaee3efcd600a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 4 16:09:19 2013 -0600

    Stamped release with today's date

 NEWS   | 3 +++
 README | 6 +++---
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 5dad4cb8e17f645e5fa048cb82c16247f9d9ad6b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 27 15:18:43 2013 -0600

    inject: Fix handling of messages with no body
    
    If there is no blank line following the header (and hence no body), the
    last line of the header may be duplicated in the body of the message.
    This fixes that boundary condition.

 NEWS          | 2 ++
 src/inject.cc | 5 ++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit ca494e2135ef81d8e3580039c3445d7a15409532
Merge: eaa532e c94c8bd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 27 14:48:42 2013 -0600

    Merge branch 'backoff'

commit c94c8bd4ae8f270d0e213365933d84cf0d0b5734
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Mar 14 10:26:03 2013 -0600

    send: Fix up pause time back off calculation

 src/send.cc | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit eaa532ebff1b01230384c0229f7b53687dfc99f6
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 27 09:01:52 2013 -0600

    smtpd: Strip leading periods from data as required
    
    Bug reported by Sebastian Nickel

 NEWS             | 2 ++
 src/smtpd.cc     | 2 ++
 test/tests/smtpd | 8 ++++++--
 3 files changed, 10 insertions(+), 2 deletions(-)

commit 518cc1b89742f33a68128c043c5575e79e8d46dd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 22 16:25:13 2013 -0600

    send: Back off rescan times when sending fails.

 NEWS                  |  2 ++
 doc/nullmailer-send.8 | 13 +++++++++++--
 src/send.cc           | 25 +++++++++++++++++++------
 3 files changed, 32 insertions(+), 8 deletions(-)

commit 8563947d787b918c71f69e0b4f43275619cd3852
Merge: a3fb6bd 8b2bdff
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Mar 19 13:50:00 2013 -0700

    Merge pull request #9 from tpo/master
    
    documentation: manual delivery trigger, transport module options

commit 8b2bdff730a475e276c9b5a637e19f9402850bb9
Author: Tomas Pospisek <tpo_hp@sourcepole.ch>
Date:   Fri Mar 15 10:09:47 2013 +0100

    list smpt and qmqp --help in 'see also' section

 doc/nullmailer-send.8 | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4e821abe4a8d473e4acba41d8495a1c8a44deb16
Author: Tomas Pospisek <tpo_hp@sourcepole.ch>
Date:   Fri Mar 15 10:08:59 2013 +0100

    document how to find out about protocol modules' options

 doc/nullmailer-send.8 | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit a79fc602b4bdb1ff80e6f3a56d49bfbf20e7b750
Author: Tomas Pospisek <tpo_hp@sourcepole.ch>
Date:   Fri Mar 15 10:06:08 2013 +0100

    document how to start delivery manually

 doc/nullmailer-send.8 | 5 +++++
 1 file changed, 5 insertions(+)

commit a3fb6bd48cfca9587c21d6e6e835ce3cc2326960
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Mar 14 10:12:42 2013 -0600

    nullmailer-queue: Support multiple admin addresses

 NEWS                     |  2 ++
 doc/nullmailer-queue.8   |  3 ++-
 src/queue.cc             |  1 +
 test/tests/queue/rewrite | 14 +++++++++++++-
 4 files changed, 18 insertions(+), 2 deletions(-)

commit 2d6d0dc09daa48abbfece9fc4d7674dd9095684b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Dec 19 21:25:26 2012 -0600

    protocols/smtp: Send QUIT on success too
    
    Apparently some SMTP receivers will warn about senders that didn't send
    QUIT. Don't know why, and this should help shut them up.

 NEWS              | 1 +
 protocols/smtp.cc | 2 ++
 2 files changed, 3 insertions(+)

commit c0159f5fdf523f4dc508bc85e75c9e73663066b8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Dec 19 21:24:40 2012 -0600

    Bump version to 1.12

 NEWS         | 3 +++
 configure.in | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit ef77697eafa9033063fe9e3c546f2f1e451da005
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 14 09:44:38 2012 -0600

    Tagged the README with today's date

 README | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d5a7ce0be1d08d3a3636af471241346e219306a4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 12 14:52:50 2012 -0600

    protocols: Add support for client certificate files.

 NEWS                    | 2 ++
 protocols/protocol.cc   | 2 ++
 protocols/protocol.h    | 1 +
 protocols/tls_gnutls.cc | 4 ++++
 4 files changed, 9 insertions(+)

commit 16674b30624c3240aad4b4ad1b9e85e6c08f7e8e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 12 14:47:15 2012 -0600

    sendmail: Ignore all sendmail options

 NEWS            |  2 +-
 src/sendmail.cc | 21 +--------------------
 2 files changed, 2 insertions(+), 21 deletions(-)

commit 2704d1305f3d7c474520b3c5cb0063d36b180698
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 12 14:21:44 2012 -0600

    lib/cli++: Fix handling of single-char options with values
    
    Invoking 'sendmail -FNAME' fails without this patch.
    
    This change also introduces a set of self-tests.

 NEWS              |  2 ++
 lib/cli++/main.cc | 29 ++++++++++++--------
 test/Makefile.am  | 13 +++++++--
 test/clitest.cc   | 45 +++++++++++++++++++++++++++++++
 test/clitest.sh   | 81 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 157 insertions(+), 13 deletions(-)
 create mode 100644 test/clitest.cc
 create mode 100644 test/clitest.sh

commit dd9bb3ece55d2ce2b940b67e069d4ce800f54b5e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 12 08:31:13 2012 -0600

    sendmail: Add -odd -odi and -odq options for compatibility

 NEWS            | 2 ++
 src/sendmail.cc | 6 ++++++
 2 files changed, 8 insertions(+)

commit f6f6a935463211a4e2fccb12448824bf82fd2362
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 12 08:30:43 2012 -0600

    Bump version to 1.11

 NEWS         | 5 +++++
 configure.in | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit e6bc62f9ba314c024c8cb96574b9e9897d1624c2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu May 24 15:49:00 2012 -0600

    protocols: Remove unneeded (?) gnutls/abstract.h include

 protocols/tls_gnutls.cc | 3 ---
 1 file changed, 3 deletions(-)

commit 221121d4d568e6e3922654641645dbace6f1cc43
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 24 09:41:44 2012 -0600

    test: Sleep a little longer in the send test to prevent a race

 test/tests/send | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b34be1b1b7f3c9b1f5755251e62833b7ce4ece4f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 24 08:55:52 2012 -0600

    makedist.in: Stop building RPMs

 makedist.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 56a60e2fd00370ef3ad04959144aed23dd35d43d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 24 08:55:27 2012 -0600

    spec: Updates for tls and nullmailer-smtpd

 spec | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5e32780d7c9c57acb5c18c255d95271deb40e885
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 24 07:49:21 2012 -0600

    README: Stamp with today's date

 README | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 871c21f821416ddcb93e4e1bc87ec82bdd8aba12
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 23 13:44:33 2012 -0600

    test: Fix typo in find command

 test/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c24509e9b0cd8fe4430bdd3daa0bcf733ea1eb6d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 23 11:01:58 2012 -0600

    src/smtpd: Add missing #include

 src/smtpd.cc | 1 +
 1 file changed, 1 insertion(+)

commit fb6326ff2e5eb767e53f7f1e30748bcf489d26df
Merge: d0cc453 75f4a52
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 23 10:59:54 2012 -0600

    Merge branch 'lsb'
    
    Conflicts:
    	NEWS
    	src/sendmail.cc

commit d0cc4538313204a434982a42aa1182fca5c032e2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 23 10:28:07 2012 -0600

    src/sendmail: Eliminate a few compiler warnings

 src/sendmail.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 81f0d6fdf65401a6fbd63b83e1a711812906b6f5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 23 10:09:19 2012 -0600

    protocols/tls: Added support for gnutls prior to version 2.10
    
    gnutls-2.10 introduced the gnutls_certificate_set_verify_function, which
    allows for verifying server certificates as soon as they're sent instead
    of after the handshake is complete.  This adds a workaround for the
    function not being present in older versions by calling the cert
    verification after the handshake.

 configure.in            |  7 ++++++-
 protocols/tls_gnutls.cc | 12 ++++++++++--
 2 files changed, 16 insertions(+), 3 deletions(-)

commit b635aef827d8455e9a0eb02a6f9e93fbf250bbcd
Merge: 9e94d29 dd57bf9
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 19 17:10:16 2012 -0600

    Merge branch 'tls'

commit 9e94d298adc142b0ff68044869f20d2450429b63
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 19 17:06:45 2012 -0600

    Fix a few warnings in autoconf files

 acinclude.m4 | 8 ++++----
 configure.in | 1 +
 2 files changed, 5 insertions(+), 4 deletions(-)

commit dd57bf991c9aa1e9ee8721c8c64b2021162c1f1a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 19 16:32:06 2012 -0600

    protocols: Add support for server certificate verification

 TODO                    |  3 ---
 protocols/protocol.cc   |  8 ++++++++
 protocols/protocol.h    |  7 +++++++
 protocols/tls_gnutls.cc | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 3 deletions(-)

commit eb902c3a5808718f59d0009565900104bca55f04
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 17 16:07:02 2012 -0600

    protocols: Add support for STARTTLS

 NEWS                  |  2 +-
 TODO                  |  1 -
 protocols/protocol.cc | 12 ++++++++++--
 protocols/protocol.h  |  2 ++
 protocols/qmqp.cc     |  7 +++++++
 protocols/smtp.cc     | 14 +++++++++++++-
 6 files changed, 33 insertions(+), 5 deletions(-)

commit 436afd26338d319cec9f854bb524c740a1639656
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 17 15:33:32 2012 -0600

    protocols: Make SSL/TLS support optional in configure

 INSTALL                                        |  3 +++
 TODO                                           |  1 -
 configure.in                                   |  9 +++++++++
 lib/fdbuf/Makefile.am                          | 11 +++++++----
 protocols/Makefile.am                          | 16 ++++++++++++----
 protocols/protocol.cc                          |  6 ++----
 protocols/{tls.cc => tls_gnutls.cc}            |  0
 lib/config_readint.cc => protocols/tls_none.cc | 24 ++++++++++++------------
 8 files changed, 45 insertions(+), 25 deletions(-)
 rename protocols/{tls.cc => tls_gnutls.cc} (100%)
 copy lib/config_readint.cc => protocols/tls_none.cc (76%)

commit 14568cc6fe479bfd3a5fab160d7f87e0e3abbe51
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 17 15:11:13 2012 -0600

    protocols: Move TLS code into separate source

 TODO                              |  1 -
 protocols/Makefile.am             |  4 +-
 protocols/protocol.cc             | 54 ++------------------------
 protocols/protocol.h              |  3 ++
 protocols/{protocol.cc => tls.cc} | 81 ++++-----------------------------------
 5 files changed, 15 insertions(+), 128 deletions(-)
 copy protocols/{protocol.cc => tls.cc} (53%)

commit 450b50fb579dc0d0bc911029245b394e1088c7de
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 17 14:36:34 2012 -0600

    protocols: Add support for SSL connections using gnutls

 NEWS                  |  2 ++
 TODO                  |  8 +++---
 protocols/Makefile.am |  4 +--
 protocols/protocol.cc | 72 +++++++++++++++++++++++++++++++++++++++++++++++----
 4 files changed, 76 insertions(+), 10 deletions(-)

commit 1d31cee72dc3af76590f07156d55c6b2733a5d04
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 15:14:57 2012 -0600

    protocols: Add --ssl option (unimplemented)

 protocols/protocol.cc | 7 +++++--
 protocols/protocol.h  | 2 ++
 protocols/qmqp.cc     | 1 +
 protocols/smtp.cc     | 1 +
 4 files changed, 9 insertions(+), 2 deletions(-)

commit e938f48e637584d4e7198a45a5849fcf0f7d03b1
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 15:00:47 2012 -0600

    lib/fdbuf: Add TLS ibuf and obuf classes, using gnutls

 lib/fdbuf/Makefile.am                       |  4 ++++
 lib/fdbuf/{fdbuf_copy.cc => tlsibuf.cc}     | 29 +++++++++++-----------------
 lib/fdbuf/{fdobuf_chownmod.cc => tlsibuf.h} | 30 ++++++++++++++---------------
 lib/fdbuf/{fdbuf_copy.cc => tlsobuf.cc}     | 29 +++++++++++-----------------
 lib/fdbuf/{fdobuf_chownmod.cc => tlsobuf.h} | 30 ++++++++++++++---------------
 5 files changed, 54 insertions(+), 68 deletions(-)
 copy lib/fdbuf/{fdbuf_copy.cc => tlsibuf.cc} (63%)
 copy lib/fdbuf/{fdobuf_chownmod.cc => tlsibuf.h} (65%)
 copy lib/fdbuf/{fdbuf_copy.cc => tlsobuf.cc} (63%)
 copy lib/fdbuf/{fdobuf_chownmod.cc => tlsobuf.h} (65%)

commit e275797c5ab06f1cd1683f735127605352b477ee
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 13:01:41 2012 -0600

    lib/fdbuf: Fix header include issues

 lib/fdbuf/fdbuf.h  | 4 ++--
 lib/fdbuf/fdibuf.h | 2 ++
 lib/fdbuf/fdobuf.h | 2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 4ee43718cd83a25562c853e24ebe45ce3141d62d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 12:39:53 2012 -0600

    lib/fdbuf: Implement virtual read/write functions for better extending

 lib/fdbuf/fdibuf.cc | 13 +++++++++----
 lib/fdbuf/fdibuf.h  |  1 +
 lib/fdbuf/fdobuf.cc | 13 +++++++++----
 lib/fdbuf/fdobuf.h  |  1 +
 4 files changed, 20 insertions(+), 8 deletions(-)

commit 3539a0e83a2307b2d60b1c10cbd50c5930b6719e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 15:28:48 2012 -0600

    protocols: Allocate I/O fdbuf objects in protocol wrapper

 protocols/protocol.cc |  6 +++++-
 protocols/protocol.h  |  2 +-
 protocols/qmqp.cc     | 14 +++++++-------
 protocols/smtp.cc     | 14 +++++++-------
 4 files changed, 20 insertions(+), 16 deletions(-)

commit 245971bc0f9856ee98f6505d952a91c59546c3aa
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 15:21:28 2012 -0600

    protocols: Use reference instead of pointer in protocol_* calling convention

 protocols/protocol.cc |  4 ++--
 protocols/protocol.h  |  4 ++--
 protocols/qmqp.cc     | 32 ++++++++++++++++----------------
 protocols/smtp.cc     | 22 +++++++++++-----------
 4 files changed, 31 insertions(+), 31 deletions(-)

commit 3c23536837b00123f3fa8671c2c7e37322212cda
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 16 15:11:39 2012 -0600

    protocols: Handle default port numbers in the wrapper code

 protocols/protocol.cc | 5 +++++
 protocols/protocol.h  | 3 +--
 protocols/qmqp.cc     | 2 +-
 protocols/smtp.cc     | 2 +-
 4 files changed, 8 insertions(+), 4 deletions(-)

commit f16c5b15f468c18d3867fbf33cae17bb4b1ca288
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Apr 15 13:21:05 2012 -0600

    protocols/smtp: Add autodetection of authentication mode

 NEWS                  |  2 ++
 protocols/protocol.cc |  4 ++--
 protocols/protocol.h  |  3 ++-
 protocols/smtp.cc     | 62 ++++++++++++++++++++++++++++++++++++++++++++++-----
 4 files changed, 62 insertions(+), 9 deletions(-)

commit acd189b0c581b73ea5ffaa4b4cb8ba5c5bf2d242
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Apr 15 13:12:03 2012 -0600

    protocols/smtp: Move auth code into smtp class

 protocols/smtp.cc | 46 ++++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit 53e7cfcaa4916023d047187abfb4d9ed8adcfd08
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Apr 15 12:33:51 2012 -0600

    protocol/smtp: Provide interface for recording command responses

 protocols/smtp.cc | 23 ++++++++++++++---------
 1 file changed, 14 insertions(+), 9 deletions(-)

commit 75f4a52ba1fa1916a5c64cf279ef883ecb24c142
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 10:18:16 2012 -0600

    Add tests for nullmailer-smtpd

 test/functions   |  1 +
 test/tests/smtpd | 71 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 72 insertions(+)
 create mode 100644 test/tests/smtpd

commit c8559d15c070c1846fe37306a9611c9dd02510cc
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 10:04:14 2012 -0600

    nullmailer-smtpd: Make sure commands that require a parameter have one

 src/smtpd.cc | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 9c8e3bd1155113cfef6a0fc215e128baf37ea7ff
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 09:56:48 2012 -0600

    test: Drop the grep against .svn since it's not used any more

 test/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b85b41aa188e38dfb984d744b19cb6713b75fea
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 09:04:30 2012 -0600

    sendmail: Add support for -bs (SMTP) mode

 NEWS            | 2 +-
 src/sendmail.cc | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 7970d43393021a5b7603f94f11aab0152af4f325
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 09:01:17 2012 -0600

    nullmailer-smtpd: Add simple SMTP agent, for sendmail -bs mode

 .gitignore      |   1 +
 src/Makefile.am |   6 +-
 src/smtpd.cc    | 295 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 301 insertions(+), 1 deletion(-)
 create mode 100644 src/smtpd.cc

commit f0b2f36a1f8c8dbc11f6392964b5570d90d1d26c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Mar 14 09:00:35 2012 -0600

    mystring: Fix (previously unused) implementation of mystring::upper

 lib/mystring/upper.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cb1a4b414d0f80e2066d7daf35b7eba622be693e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Mar 12 16:02:10 2012 -0600

    sendmail: Add support for -bp (mailq) mode

 NEWS            |  2 ++
 src/sendmail.cc | 51 +++++++++++++++++++++++++--------------------------
 2 files changed, 27 insertions(+), 26 deletions(-)

commit df9818e90dc9130291916a1d96fc4789f768a603
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Mar 12 15:49:05 2012 -0600

    lib/cli++: Fix handling of error messages from short options

 lib/cli++/cli++.h |  4 ++--
 lib/cli++/main.cc | 28 ++++++++++++++++++----------
 2 files changed, 20 insertions(+), 12 deletions(-)

commit e301f0e28a97424d9b163959a43b251137731ca3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Mar 12 15:34:42 2012 -0600

    sendmail: Break out options using hew cli_only_long mode

 src/sendmail.cc | 79 ++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 53 insertions(+), 26 deletions(-)

commit 0a7dab3bc20691e450c2cd61d927c74723003cc3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Mar 12 15:21:49 2012 -0600

    lib/cli++: Complete implementation of cli_only_long option
    
    This change adds support on the command line for "-long" options
    alongside "--long" options if cli_only_long is set.

 lib/cli++/main.cc | 21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 7a30893489004e4c462164e6ae2dc984ea189056
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 22:27:01 2012 -0600

    lib/cli++: Add start of cli_only_long option
    
    A new boolean, cli_only_long implements a new mode of operation, where
    both long and short options can be prefixed with a single "-".
    
    This change only implements the help text output.

 lib/cli++/Makefile.am  |  2 +-
 lib/cli++/cli++.h      |  3 +++
 lib/cli++/main.cc      | 67 +++++++++++++++++++++++++++-----------------------
 lib/cli++/only_long.cc |  3 +++
 4 files changed, 43 insertions(+), 32 deletions(-)
 create mode 100644 lib/cli++/only_long.cc

commit 16a1e560761de3a1deba807adc758e4e1dd07be3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Mar 12 16:03:26 2012 -0600

    Bump version to 1.10

 NEWS         | 5 +++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit b445376bbb00d64a6e4a54f426658027832a0ce8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 21:00:10 2012 -0600

    lib/fdbuf: Initial commit from current sources

 lib/fdbuf/Makefile.am                              |  22 +++
 lib/fdbuf/fdbuf.cc                                 | 107 +++++++++++
 lib/fdbuf/fdbuf.h                                  |  82 ++++++++
 lib/{mystring/count.cc => fdbuf/fdbuf_copy.cc}     |  25 ++-
 lib/fdbuf/fdbuf_test.cc                            |  16 ++
 lib/fdbuf/fdibuf.cc                                | 192 +++++++++++++++++++
 lib/fdbuf/fdibuf.h                                 |  50 +++++
 lib/{mystring/iter.cc => fdbuf/fdibuf_mystring.cc} |  54 +++---
 .../count.cc => fdbuf/fdibuf_netstring.cc}         |  28 ++-
 lib/fdbuf/fdobuf.cc                                | 209 +++++++++++++++++++++
 lib/fdbuf/fdobuf.h                                 |  91 +++++++++
 .../count.cc => fdbuf/fdobuf_chownmod.cc}          |  21 ++-
 lib/{mystring/iter.cc => fdbuf/fdobuf_seek.cc}     |  50 ++---
 lib/{mystring/count.cc => fdbuf/fdobuf_signed.cc}  |  25 ++-
 .../count.cc => fdbuf/fdobuf_unsigned.cc}          |  21 ++-
 15 files changed, 913 insertions(+), 80 deletions(-)
 create mode 100644 lib/fdbuf/Makefile.am
 create mode 100644 lib/fdbuf/fdbuf.cc
 create mode 100644 lib/fdbuf/fdbuf.h
 copy lib/{mystring/count.cc => fdbuf/fdbuf_copy.cc} (56%)
 create mode 100644 lib/fdbuf/fdbuf_test.cc
 create mode 100644 lib/fdbuf/fdibuf.cc
 create mode 100644 lib/fdbuf/fdibuf.h
 copy lib/{mystring/iter.cc => fdbuf/fdibuf_mystring.cc} (53%)
 copy lib/{mystring/count.cc => fdbuf/fdibuf_netstring.cc} (62%)
 create mode 100644 lib/fdbuf/fdobuf.cc
 create mode 100644 lib/fdbuf/fdobuf.h
 copy lib/{mystring/count.cc => fdbuf/fdobuf_chownmod.cc} (72%)
 copy lib/{mystring/iter.cc => fdbuf/fdobuf_seek.cc} (61%)
 copy lib/{mystring/count.cc => fdbuf/fdobuf_signed.cc} (67%)
 copy lib/{mystring/count.cc => fdbuf/fdobuf_unsigned.cc} (70%)

commit 46fa7fa8eb1f1aa8f787e186db7f3d1208ea2451
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 20:59:55 2012 -0600

    lib/mystring: Initial commit from current sources

 lib/mystring/Makefile.am                     |  25 +++++
 lib/mystring/append.cc                       |  19 ++++
 lib/mystring/assign.cc                       |  55 ++++++++++
 lib/{config_readint.cc => mystring/count.cc} |  25 ++---
 lib/mystring/fdobuf.cc                       |   9 ++
 lib/mystring/find_first_ch.cc                |  11 ++
 lib/mystring/find_first_of.cc                |  22 ++++
 lib/mystring/find_last_ch.cc                 |  14 +++
 lib/mystring/find_last_of.cc                 |  24 ++++
 lib/{canonicalize.cc => mystring/iter.cc}    |  46 +++++---
 lib/{config_readint.cc => mystring/iter.h}   |  41 +++----
 lib/mystring/join.cc                         |  61 +++++++++++
 lib/mystring/join.h                          |  76 +++++++++++++
 lib/mystring/lower.cc                        |  19 ++++
 lib/mystring/lstrip.cc                       |  10 ++
 lib/mystring/mystring.cc                     |  28 +++++
 lib/mystring/mystring.h                      | 127 ++++++++++++++++++++++
 lib/mystring/operator_in.cc                  |  33 ++++++
 lib/mystring/rep.cc                          | 157 +++++++++++++++++++++++++++
 lib/{config_readint.cc => mystring/rep.h}    |  47 +++++---
 lib/mystring/rstrip.cc                       |  10 ++
 lib/mystring/strip.cc                        |  13 +++
 lib/mystring/sub.cc                          |  37 +++++++
 lib/mystring/subst.cc                        |  18 +++
 lib/mystring/trace.h                         |  11 ++
 lib/mystring/upper.cc                        |  21 ++++
 26 files changed, 886 insertions(+), 73 deletions(-)
 create mode 100644 lib/mystring/Makefile.am
 create mode 100644 lib/mystring/append.cc
 create mode 100644 lib/mystring/assign.cc
 copy lib/{config_readint.cc => mystring/count.cc} (53%)
 create mode 100644 lib/mystring/fdobuf.cc
 create mode 100644 lib/mystring/find_first_ch.cc
 create mode 100644 lib/mystring/find_first_of.cc
 create mode 100644 lib/mystring/find_last_ch.cc
 create mode 100644 lib/mystring/find_last_of.cc
 copy lib/{canonicalize.cc => mystring/iter.cc} (53%)
 copy lib/{config_readint.cc => mystring/iter.h} (53%)
 create mode 100644 lib/mystring/join.cc
 create mode 100644 lib/mystring/join.h
 create mode 100644 lib/mystring/lower.cc
 create mode 100644 lib/mystring/lstrip.cc
 create mode 100644 lib/mystring/mystring.cc
 create mode 100644 lib/mystring/mystring.h
 create mode 100644 lib/mystring/operator_in.cc
 create mode 100644 lib/mystring/rep.cc
 copy lib/{config_readint.cc => mystring/rep.h} (53%)
 create mode 100644 lib/mystring/rstrip.cc
 create mode 100644 lib/mystring/strip.cc
 create mode 100644 lib/mystring/sub.cc
 create mode 100644 lib/mystring/subst.cc
 create mode 100644 lib/mystring/trace.h
 create mode 100644 lib/mystring/upper.cc

commit 530d4bd52120d252cdd53fcb71ce611723917e91
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 20:58:54 2012 -0600

    lib/ac: Initial commit of current sources

 lib/ac/dirent.h | 17 +++++++++++++++++
 lib/ac/time.h   | 10 ++++++++++
 lib/ac/wait.h   | 10 ++++++++++
 3 files changed, 37 insertions(+)
 create mode 100644 lib/ac/dirent.h
 create mode 100644 lib/ac/time.h
 create mode 100644 lib/ac/wait.h

commit a935e2d5bbe59ae2002eadb599f7c914530d7562
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 20:56:28 2012 -0600

    lib/cli++: Initial commit of current sources from bglibs

 lib/cli++/Makefile.am   |   9 ++
 lib/cli++/cli++.h       |  59 +++++++++
 lib/cli++/cli++topod.pl | 213 ++++++++++++++++++++++++++++++
 lib/cli++/clitest.cc    |  47 +++++++
 lib/cli++/main.cc       | 342 ++++++++++++++++++++++++++++++++++++++++++++++++
 lib/cli++/messages.cc   |  44 +++++++
 6 files changed, 714 insertions(+)
 create mode 100644 lib/cli++/Makefile.am
 create mode 100644 lib/cli++/cli++.h
 create mode 100644 lib/cli++/cli++topod.pl
 create mode 100644 lib/cli++/clitest.cc
 create mode 100644 lib/cli++/main.cc
 create mode 100644 lib/cli++/messages.cc

commit 860dabe191d28d0002391b3d2395c9524d13f3ff
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 20:46:07 2012 -0600

    Remove unneeded Year 2000 statement

 Makefile.am |  2 +-
 YEAR2000    | 10 ----------
 makedist.in |  2 +-
 spec        |  2 +-
 4 files changed, 3 insertions(+), 13 deletions(-)
 delete mode 100644 YEAR2000

commit c5d104702d2ff30989368897b9a2b66a1d2544bd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 29 20:44:45 2012 -0600

    Update copyright year

 README                 | 4 ++--
 lib/address-old.cc     | 2 +-
 lib/address.cc         | 2 +-
 lib/base64.cc          | 2 +-
 lib/canonicalize.cc    | 2 +-
 lib/config_read.cc     | 2 +-
 lib/config_readint.cc  | 2 +-
 lib/config_readlist.cc | 2 +-
 lib/errcodes.cc        | 2 +-
 lib/hostname.cc        | 2 +-
 lib/makefield.cc       | 2 +-
 lib/selfpipe.cc        | 2 +-
 lib/setenv.cc          | 2 +-
 lib/tcpconnect.cc      | 2 +-
 protocols/protocol.cc  | 2 +-
 protocols/qmqp.cc      | 2 +-
 protocols/smtp.cc      | 2 +-
 src/inject.cc          | 2 +-
 src/mailq.cc           | 2 +-
 src/queue.cc           | 2 +-
 src/send.cc            | 2 +-
 src/sendmail.cc        | 2 +-
 22 files changed, 23 insertions(+), 23 deletions(-)

commit 88218043763357b339d5cf6d7667444e41e4bbbe
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 25 22:55:17 2012 -0600

    Reworded the past NEWS items.

 NEWS | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 494f72e2279a90b6b095715929a008e2c8e4708b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 25 22:48:44 2012 -0600

    selfpipe: Only use select if the timeout is positive
    
    If the timeout is zero (or negative), the select will return
    immediately.  Since the pipe being read from is marked as non-blocking,
    this becomes equivalent to just reading from the socket unconditionally
    without the select.

 lib/selfpipe.cc | 28 +++++++++++++++-------------
 1 file changed, 15 insertions(+), 13 deletions(-)

commit 63c54b2ea2cdece784e9f1de61ec0a4a8d73dc87
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 25 22:39:20 2012 -0600

    send: Fix handling of protocol timeouts
    
    When the protocol takes too long to send a message to the remote, send
    will kill that protocol and retry later.  However, it never fully deals
    with the signal caused by the child process exiting.  So, when it later
    resends the message, it appears that the protocol exits immediately,
    causing further problems.
    
    The obvious fix is to make sure we deal with the generated SIGCHLD after
    killing the protocol.
    
    Thanks Nick Leverton <nick@leverton.org> for catching this.

 NEWS        | 2 ++
 src/send.cc | 1 +
 2 files changed, 3 insertions(+)

commit 5c87b96d2d9524b3a059cab5f60aebb5a482449e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 25 13:53:26 2012 -0600

    Update includes for new ac/time.h include
    
    Old one was named ac/systime.h

 lib/makefield.cc | 2 +-
 src/send.cc      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8cba9d7f74ba853c30daeafe09f809aa3c2263c1
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Mar 16 16:57:02 2010 -0600

    Fix handling of whitespace in quoted strings in headers

 NEWS                 | 2 ++
 lib/address.cc       | 8 +++++++-
 test/address-test.cc | 9 ++++++++-
 3 files changed, 17 insertions(+), 2 deletions(-)

commit ec087b5409d038554fadbac73909e83d7905c59a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 5 15:42:20 2010 -0600

    sync instead of just flush when writing the queue file

 NEWS         | 3 +++
 src/queue.cc | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit ece5c7bb0d21712272826bc79783c98bf85a658e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 5 15:38:13 2010 -0600

    Bump version to 1.06

 NEWS         | 5 +++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit 9bb74bcc71b5fdbdcc52e5e159d1083edab08892
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Oct 13 09:09:23 2007 -0600

    Modified -send to move permanently failed messages into a failed directory.

 Makefile.am     |   2 +
 src/send.cc     | 114 ++++++++++++++++++++++++++++++++++++++++----------------
 test/functions  |   4 +-
 test/tests/send |   3 ++
 4 files changed, 88 insertions(+), 35 deletions(-)

commit bab6faf0c17a1bdc4685d66c6df953ff8939810d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 20:22:55 2007 -0600

    Added a timestamp to the internal per-message data in -send.

 src/send.cc | 58 ++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 36 insertions(+), 22 deletions(-)

commit 78f74e66c0b28e660aec15f81dbb8607e316fe36
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 12:18:53 2007 -0600

    Modified -dsn to automatically generate DDNs for 4.#.# status codes.

 TODO       |  1 -
 src/dsn.cc | 46 +++++++++++++++++++++++++++++++++++++---------
 2 files changed, 37 insertions(+), 10 deletions(-)

commit 4d17a0346ff11bc47628b33b8700b53c31c1e7e7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 11:45:58 2007 -0600

    Completed the implementation of nullmailer-dsn
    
    I'm not particularly happy with the human-readable portion of the
    message.  This program also needs to be extended to support delay
    notifications.

 TODO       |  5 +----
 src/dsn.cc | 71 ++++++++++++++++++++++++++++++++++++++++++--------------------
 2 files changed, 49 insertions(+), 27 deletions(-)

commit 8705f91a8f48605c817a5782fcdefe1cf268ddfb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 10:32:06 2007 -0600

    Renamed nullmailer-bounce to -dsn, as it will be used to create DDNs too.

 .gitignore      |   1 +
 src/Makefile.am |   6 +--
 src/bounce.cc   |  90 ---------------------------------
 src/dsn.cc      | 154 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 158 insertions(+), 93 deletions(-)
 delete mode 100644 src/bounce.cc
 create mode 100644 src/dsn.cc

commit 5ac20a731071d2c2c7f10171a07a4eddce56c76c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 10:29:34 2007 -0600

    Allow make_date to use timestamps other than now.

 lib/makefield.cc | 5 +++--
 lib/makefield.h  | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 2752949f790f1f11ff532a97da954e72b9fe3a69
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 09:52:04 2007 -0600

    Add the PID to the boundary string.

 lib/makefield.cc | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 663c30da1177b0d2bd50bf95f9d0549eeb5f3af8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:19:36 2007 -0600

    Started implementation of the nullmailer-bounce program.

 src/Makefile.am |  4 +++
 src/bounce.cc   | 90 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+)
 create mode 100644 src/bounce.cc

commit 3d2d9a4e4ff7033edc6a221961a4906d4bb5baf4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:18:34 2007 -0600

    Added a simple boundary string generator make_boundary().

 lib/makefield.cc | 10 ++++++++++
 lib/makefield.h  |  1 +
 2 files changed, 11 insertions(+)

commit 9bcc733516a02260d3e468a87486aed9d0a3b621
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Oct 19 11:00:09 2009 -0600

    Stamped README with today's date

 README | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6450c36e5605ce05e2ffbb090982ea0642d45bda
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 16:50:31 2008 -0600

    Removed unnecessary FIXME comment in lib/address.cc

 lib/address.cc | 2 --
 1 file changed, 2 deletions(-)

commit 2b339dcf76b2d8dd6df6e08549b2d4c75c87e1ad
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 16:41:58 2008 -0600

    Set umask in nullmailer-queue, just for safety.

 src/queue.cc | 1 +
 1 file changed, 1 insertion(+)

commit 218f9921688643c4bb63ebf1df65a233ba0a2070
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 16:13:17 2008 -0600

    Replaced some single-byte string constants with characters in lib/address.cc

 lib/address.cc | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 8a44d18869dcfb5a9c46e878e3a17334ab8a49b0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 15:24:41 2008 -0600

    Fixed handling of phrases with mixed spacing in the address parser.
    
    This change introduces a flag to the token structure to indicate if the
    token was preceded by whitespace.  That flag is used later to calculate
    if a space should be added back into the reconstructed address field.

 lib/address.cc       | 62 +++++++++++++++++++++++++++++-----------------------
 test/address-test.cc |  6 +++++
 2 files changed, 41 insertions(+), 27 deletions(-)

commit 2d87bf661aa36bf1adb694fc028c4de85658b723
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 13:50:24 2008 -0600

    Started fixing phrases containing periods, such as abbreviations.

 NEWS                 |  2 ++
 lib/address.cc       | 24 ++++++++++++++++--------
 test/address-test.cc |  3 +++
 3 files changed, 21 insertions(+), 8 deletions(-)

commit 64bf159f68314540c6631b61e96d5ac2f880f80d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 13:16:43 2008 -0600

    Fixed handling of periods (and other specials) inside quotes.

 lib/address.cc       | 4 ++--
 test/address-test.cc | 6 ++++++
 2 files changed, 8 insertions(+), 2 deletions(-)

commit f8ec121071c7149f07b71eeabe7f9e6bcc84a755
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Apr 17 11:28:50 2008 -0600

    Eliminate the anode constructor that doesn't include a string.

 lib/address.cc | 16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 55ff89634392411830b8360dd4f4da98af2b2b59
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Apr 16 09:57:57 2008 -0600

    Fixed use-after-destruct bug in address parsing tracing.

 lib/address.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 441ac8b60121c728cb7f1f0ef5396fc4ad2787ea
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Apr 16 16:42:31 2008 -0600

    Fixed handling of TM_HAS_ISDST on Solaris.
    
    Thanks to John Coy <johncoy@anc.net> for pointing this out.

 NEWS             | 2 ++
 lib/makefield.cc | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 381cce827b8516fbd7b2f9d891214c0b738b2431
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 20:18:20 2007 -0600

    Added a selftest for -send.

 test/tests/send | 40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)
 create mode 100644 test/tests/send

commit a3f409909ded9c9ca2b22e8c16a61c4a42ca665d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 20:11:02 2007 -0600

    Switch to using supervise for running subprocesses in tests.

 test/functions       | 37 ++++++++++++++++++++++---------------
 test/tests/protocols |  6 ++----
 2 files changed, 24 insertions(+), 19 deletions(-)

commit 6af25d1743a2a99605add05becd7f1407184a050
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 18:57:50 2007 -0600

    Reordered the status error codes to group the permanent ones.

 lib/errcodes.cc | 48 ++++++++++++++++++++++++++----------------------
 lib/errcodes.h  | 17 +++++++++++------
 src/send.cc     |  2 +-
 3 files changed, 38 insertions(+), 29 deletions(-)

commit 4a40f14aa68369a642216dfcf4c38eef30516c2a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Oct 12 09:50:06 2007 -0600

    Tweaked the make_messageid function to make it more code efficient.

 lib/makefield.cc | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 29e724376ff61d434b11e1f47c71c373d6f4b82a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 23:01:55 2007 -0600

    Fixed compilation of src/selfpipe.cc on Solaris and other OSes.

 NEWS            | 1 +
 lib/selfpipe.cc | 1 +
 2 files changed, 2 insertions(+)

commit 329313e7c642081d491b3c26d0969fd7cdc7a60e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 23:01:17 2007 -0600

    Bumped version to 1.05

 NEWS         | 6 ++++++
 configure.in | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 3f17550ee9ba94dbf5d8582929f84cc5711d6971
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 17:33:52 2007 -0600

    Stamped many files with today's date/year.

 README                 | 4 ++--
 lib/address-old.cc     | 2 +-
 lib/address.cc         | 2 +-
 lib/base64.cc          | 2 +-
 lib/config_read.cc     | 2 +-
 lib/config_readint.cc  | 2 +-
 lib/config_readlist.cc | 2 +-
 lib/errcodes.cc        | 2 +-
 lib/hostname.cc        | 2 +-
 lib/makefield.cc       | 2 +-
 lib/setenv.cc          | 2 +-
 lib/tcpconnect.cc      | 2 +-
 protocols/protocol.cc  | 2 +-
 protocols/qmqp.cc      | 2 +-
 protocols/smtp.cc      | 2 +-
 src/inject.cc          | 2 +-
 src/mailq.cc           | 2 +-
 src/queue.cc           | 2 +-
 src/sendmail.cc        | 2 +-
 19 files changed, 20 insertions(+), 20 deletions(-)

commit 4ca905042fff71cb1a7a674502b442b194f827dd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 17:33:39 2007 -0600

    Added some missing bits needed for distribution.

 lib/Makefile.am | 2 +-
 spec            | 4 +---
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 1c5e462c86e567ff4e468656c2c26bcd246e1ce1
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:50:00 2007 -0600

    Fixed up some test function includes.

 test/functions | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit efc6fe62282ed60eee927bd272faa98293f60943
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:49:17 2007 -0600

    Added a .gitignore file to let get ignore more files.

 .gitignore | 29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)
 create mode 100644 .gitignore

commit 7bed03ab4b0f4ba72ecbf2f01b82a3a42a200124
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:48:54 2007 -0600

    Updated the TODO notes a bit.

 TODO | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 1a80bbef3ad9dc7451e262f681e85945702a4ceb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:48:20 2007 -0600

    Added the standard GPL copying document.

 COPYING | 340 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 340 insertions(+)
 create mode 100644 COPYING

commit 2210203cae988833b6e468c508fb2ce52623a98f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:48:02 2007 -0600

    Added a simple INSTALL document.

 INSTALL | 14 ++++++++++++++
 1 file changed, 14 insertions(+)
 create mode 100644 INSTALL

commit f5041c11b8f8543948a09fa3bf06e147226ba382
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:47:42 2007 -0600

    Removed an unneeded header from src/queue.cc

 src/queue.cc | 1 -
 1 file changed, 1 deletion(-)

commit c3dd869824827c2ddf74a5d45f7177912bdb81dd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 15:47:21 2007 -0600

    Fixed a double space in the mailq output, and added a test script.

 src/mailq.cc     |  2 +-
 test/tests/mailq | 10 ++++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)
 create mode 100644 test/tests/mailq

commit bd8c99e3898710b542fd5a6f08f98ffdf3e933f8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 14:36:12 2007 -0600

    Added a header for lib/makefield.cc

 lib/makefield.cc |  4 +---
 lib/makefield.h  |  7 +++++++
 src/inject.cc    | 10 ++++------
 3 files changed, 12 insertions(+), 9 deletions(-)
 create mode 100644 lib/makefield.h

commit c04e92eb8bcd99f16a908e48e8bee1673488ccf8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 12:13:22 2007 -0600

    Do not canonicalize *@localhost addresses.

 NEWS                     | 3 +++
 doc/nullmailer-inject.1  | 4 +++-
 lib/canonicalize.cc      | 4 ++--
 test/tests/inject/from   | 4 ++++
 test/tests/inject/sender | 4 ++++
 5 files changed, 16 insertions(+), 3 deletions(-)

commit 5038832d2067dbf30903bc2273b8673904fab11b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 10:40:29 2007 -0600

    Documented the helohost config file that nullmailer-send uses.

 TODO                  | 12 +++++++++---
 doc/nullmailer-send.8 | 10 ++++++++++
 2 files changed, 19 insertions(+), 3 deletions(-)

commit 357e7086733b25ab1116405502030c75993fb784
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 10:40:05 2007 -0600

    Fixed nullmailer-send to reread helohost along with the other config files.

 src/send.cc | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 07300026f7dfbf889b56ce45b0dd7a8160ac8aee
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 10:38:55 2007 -0600

    Make a hanging test protocol server less likely in tests/protocols.
    
    The previous test script set up an exit function to kill the test
    protocol server *after* sleeping for 1 second.  If the script was
    interrupted during that sleep, the server wouldn't get killed properly.

 test/tests/protocols | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89a18d52833e65565031ed7a3cd61ff55fcfb151
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 10:08:11 2007 -0600

    Added support for reporting the sender and recipients in mailq.

 NEWS         |  2 ++
 src/mailq.cc | 12 +++++++++++-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit bb508024b20ee63e9f99e13159969467ab7145e3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Oct 9 09:09:00 2007 -0600

    Report system errors in more cases in nullmailer-send.

 src/send.cc | 21 +++++++++------------
 1 file changed, 9 insertions(+), 12 deletions(-)

commit 695d263cb625df30c9020a03d4eeee09972a30d4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Oct 7 23:11:51 2007 -0600

    Fix "missing sentinel in function call" warning in src/inject.cc

 src/inject.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c747e5e565256cd911dfaec96db8c188c462eb7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Apr 10 00:03:25 2007 +0000

    Added a send timeout in nullmailer-send, to kill sending messages that
    stall.

 NEWS                  |   3 ++
 doc/nullmailer-send.8 |  10 +++++
 lib/Makefile.am       |   1 +
 lib/selfpipe.cc       | 101 ++++++++++++++++++++++++++++++++++++++++++++++++++
 lib/selfpipe.h        |  16 ++++++++
 src/send.cc           |  31 +++++++++++++++-
 6 files changed, 161 insertions(+), 1 deletion(-)
 create mode 100644 lib/selfpipe.cc
 create mode 100644 lib/selfpipe.h

commit 2971ceacb9ccd75126996669a0ed92e8b9a6dc8e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 9 23:28:54 2007 +0000

    Added support in nullmailer-inject for $NULLMAILER_QUEUE to name the
    program which is used to queue messages.

 NEWS                    |  2 ++
 doc/nullmailer-inject.1 |  6 ++++++
 src/inject.cc           | 18 ++++++++++--------
 test/functions          | 25 ++++++++++++++++++++-----
 test/tests/inject/queue | 14 ++++++++++++++
 5 files changed, 52 insertions(+), 13 deletions(-)
 create mode 100644 test/tests/inject/queue

commit 7daab6d2e608a08b42ee61751def5b3231a5e01b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Apr 9 16:01:16 2007 +0000

    Bumped version to 1.04

 NEWS         | 6 ++++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 99833fecba790016eb54869fe342205e1b8055c5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 29 22:16:35 2006 +0000

    Added missing setenv.h source file.

 lib/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b5ee39825d5e5835b06bb187b4b9fdc5dd8fa126
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 29 21:04:48 2006 +0000

    Test for the use of getpwnam instead of "unknown" as a last resort on
    sender addresses.

 test/tests/inject/from   | 4 ++--
 test/tests/inject/sender | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2dc75a869c1d04f9fdd9a2ee20fee0edeec1ff30
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 29 19:54:12 2006 +0000

    Bumped date stamp on the README

 README | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ceeeffe2e118bad2407ed869e969044ee78dc15
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 29 19:53:40 2006 +0000

    Revised how I want to handle bouncing messages.

 TODO | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fefb4a02f65431fda75f1a93a2a3c4288ba39df8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 29 19:30:33 2006 +0000

    If the sender name cannot be determined from the environment
    variables, try to pull it from /etc/passwd before using "unknown".
    Thanks Roderick Schertler <roderick@argon.org>
    
    Mail from cron gets an envelope sender address of "unknown" because it
    doesn't set $LOGNAME or $USER in the environment.  This patch fixes it
    by having nullmailer-inject try getpwnam() for the name if the
    environment variables aren't set.
    
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=218326

 NEWS                    | 4 ++++
 doc/nullmailer-inject.1 | 5 +++--
 src/inject.cc           | 5 +++++
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 0a65f1b7513554aa4794a65b108f33ac486cd0f0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 27 23:22:42 2006 +0000

    Fixed netstring length bug in QMQP sending module.

 NEWS              | 2 ++
 protocols/qmqp.cc | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit b47012b6aab40fc900d822b2c9909e011ff4d1ab
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 27 23:22:13 2006 +0000

    Fixed compile breakage on Solaris due to use of setenv.

 NEWS                                 |  2 ++
 lib/Makefile.am                      |  3 ++-
 lib/{config_readint.cc => setenv.cc} | 29 +++++++++++++++++------------
 lib/setenv.h                         |  6 ++++++
 src/send.cc                          |  1 +
 src/sendmail.cc                      | 20 +-------------------
 6 files changed, 29 insertions(+), 32 deletions(-)
 copy lib/{config_readint.cc => setenv.cc} (64%)
 create mode 100644 lib/setenv.h

commit cde4bc394cbdb05ffebe96659fcf400b297b8251
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jun 23 18:40:00 2006 +0000

    Fixed the SMTP protocol module to send EHLO instead of HELO when doing
    authentication.  Thanks to Norbert Tretkowski <norbert@tretkowski.de>
    for the suggestion.

 NEWS              | 6 +++++-
 protocols/smtp.cc | 4 +++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 8ac930b89d7ad4a5f1ff2db6c2dcc223e518156c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jun 23 15:20:29 2006 +0000

    Added support for the SMTP AUTH LOGIN method.

 NEWS                  |  2 ++
 doc/nullmailer-send.8 |  7 +++++++
 protocols/protocol.cc |  5 ++++-
 protocols/protocol.h  |  3 +++
 protocols/smtp.cc     | 31 ++++++++++++++++++++-----------
 5 files changed, 36 insertions(+), 12 deletions(-)

commit 8910fae6567878c83972a729d812330878f3af2f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 22 17:08:08 2006 +0000

    Fixed the SMTP protocol module to send QUIT on protocol failures.

 NEWS              | 1 +
 protocols/smtp.cc | 2 ++
 2 files changed, 3 insertions(+)

commit f6352bb34ee4460833b436f0a42e57094f85ad11
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 22 17:07:34 2006 +0000

    Bumped version to 1.03

 NEWS         | 6 ++++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 5d7dc2399ce42378497cd8d601cd95800d1aa1ad
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 22 17:00:19 2006 +0000

    Rename Copyright to License in spec.

 spec | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 031244d3092619ead6285b1d2eb61ba089264b80
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jan 10 04:31:19 2006 +0000

    Bumped the date and version on the README.

 README | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c7789de1ff5957c8db6995317947cbb7f4d5191e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Dec 7 22:59:13 2005 +0000

    Fixed bug in SMTP AUTH that would cause SMTP sending to crash with a
    segfault when it was used.

 NEWS              | 2 ++
 protocols/smtp.cc | 6 +++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 185b75a8bac9dbe8be395b392de1934c459618dc
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Dec 7 22:58:24 2005 +0000

    Bumped version to 1.02

 NEWS         | 6 ++++++
 configure.in | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 08ca3d9b16eab9d148e5963e768c41ab4b821074
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Nov 10 16:12:06 2005 +0000

    Adjusted email addresses to point to untroubled.org

 AUTHORS                | 2 +-
 BUGS                   | 2 +-
 README                 | 2 +-
 lib/address-old.cc     | 6 +++---
 lib/address.cc         | 6 +++---
 lib/base64.cc          | 6 +++---
 lib/canonicalize.cc    | 6 +++---
 lib/config_read.cc     | 6 +++---
 lib/config_readint.cc  | 6 +++---
 lib/config_readlist.cc | 6 +++---
 lib/errcodes.cc        | 6 +++---
 lib/hostname.cc        | 6 +++---
 lib/makefield.cc       | 6 +++---
 lib/tcpconnect.cc      | 6 +++---
 makedist.in            | 2 +-
 protocols/protocol.cc  | 6 +++---
 protocols/qmqp.cc      | 6 +++---
 protocols/smtp.cc      | 6 +++---
 spec                   | 6 +++---
 src/inject.cc          | 6 +++---
 src/mailq.cc           | 6 +++---
 src/queue.cc           | 6 +++---
 src/send.cc            | 6 +++---
 src/sendmail.cc        | 6 +++---
 test/tests/protocols   | 8 ++++----
 25 files changed, 68 insertions(+), 68 deletions(-)

commit d69ef12cb81402bf881f064cb0cc64c947f2bf48
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Nov 10 16:08:00 2005 +0000

    Updated the release date in the README file.

 README | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f121ae04b3c9345fc9594ff23b029f67908adbb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Nov 10 16:07:00 2005 +0000

    Touched up note about SMTP AUTH implementation, since it has been
    heavily modified.

 NEWS | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d88aa91ae567b2fb79980c72bbde94dce189795e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Nov 7 18:31:35 2005 +0000

    Roll back the mistakenly increased value of cli_args_max
    in protocols/protocol.cc

 protocols/protocol.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa37094d53833ef3c8d71a5e11ab9718f540c5a7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Nov 7 18:30:24 2005 +0000

    Break up the --auth option to protocols into --user and --pass.

 doc/nullmailer-send.8 | 2 +-
 protocols/protocol.cc | 9 ++++++---
 protocols/protocol.h  | 4 +++-
 protocols/smtp.cc     | 8 ++------
 4 files changed, 12 insertions(+), 11 deletions(-)

commit a4b284f66d595dff455bf42e7c7ce0e0b5b78256
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 17:58:50 2005 +0000

    Simplified the logic of breaking the "user,pass" string into its two parts.

 protocols/smtp.cc | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 203770e20d27331290ce3e01efc512c8cc9d6286
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 17:57:22 2005 +0000

    Moved the common "auth" global into protocol.cc, making it default to
    NULL instead of an empty string.

 protocols/protocol.cc | 1 +
 protocols/protocol.h  | 2 +-
 protocols/qmqp.cc     | 1 -
 protocols/smtp.cc     | 3 +--
 4 files changed, 3 insertions(+), 4 deletions(-)

commit 3cad91f34674656cbadd9f26584e968fa323aa84
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 17:52:21 2005 +0000

    Broken the base64 conversion out of protocols/smtp.cc (and simplified it
    greatly in the process).

 TODO              |  2 --
 lib/Makefile.am   |  1 +
 lib/base64.cc     | 63 +++++++++++++++++++++++++++++++++++++++++++++++++++
 lib/base64.h      | 10 +++++++++
 protocols/smtp.cc | 67 +++++--------------------------------------------------
 5 files changed, 80 insertions(+), 63 deletions(-)
 create mode 100644 lib/base64.cc
 create mode 100644 lib/base64.h

commit e6a655c635fce55aa4d365ed8d689777795ae0a4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 17:11:22 2005 +0000

    Added support for SMTP AUTH PLAIN
    Thanks Ace Jones <ace.j@hotpop.com>

 NEWS                  |  2 ++
 TODO                  |  4 +++
 doc/nullmailer-send.8 |  5 ++--
 protocols/protocol.cc |  4 ++-
 protocols/protocol.h  |  1 +
 protocols/qmqp.cc     |  1 +
 protocols/smtp.cc     | 69 +++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 83 insertions(+), 3 deletions(-)

commit a2cfd3adb3650e4fadfda84ec6c4436035a5d889
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 16:50:37 2005 +0000

    Fixed compile error in lib/list.h

 NEWS       | 1 +
 lib/list.h | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit e24ff7d1187fff34bacee4b3e9f68494a3fb1f1e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Nov 2 16:50:11 2005 +0000

    Bumped version to 1.01

 NEWS         | 6 ++++++
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit e96902b673a4e2494ca245d29b7bd47e67e8d8a2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:54:04 2005 +0000

    Fixed up lib Makefile to properly dist the ac directory.

 lib/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8e91d48269e281d31bb27bcfa8e08771d23bdb41
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:49:53 2005 +0000

    Renamed ac/time.h to ac/systime.h to prevent #include recursion.

 lib/makefield.cc | 2 +-
 src/send.cc      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 759016a2030267b6effb407e626f696db26ce9ec
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:28:34 2005 +0000

    Updated dates, version, and em.ca URLs.

 README | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4a4da64bc6e79126d6684b9973aa4bfb1672c658
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:28:11 2005 +0000

    Removed note about my daemontools RPMs as they are no longer really mailtained.

 HOWTO | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 3fc2cc552bead7c3c2ddc797ccc4e28b786ee4f0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:27:45 2005 +0000

    Added some TODOs for protocols, I just want to get 1.00 out the door.

 TODO | 4 ++++
 1 file changed, 4 insertions(+)

commit 2fc95aa6bdf7937dd20573e435776e66767b0639
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:20:39 2005 +0000

    Updated links to em.ca to untroubled.org

 makedist.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 48ed6d1ab193122319518d8969997a7634816fdf
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 28 17:20:15 2005 +0000

    Removed note about documentation fix.

 TODO | 2 --
 1 file changed, 2 deletions(-)

commit e7466bbfa007c6c2507230d173f5b7fd6ed25e4f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 26 00:14:31 2005 +0000

    Bumped version to 1.00 (no RC status)

 NEWS         | 5 +----
 README       | 2 +-
 configure.in | 2 +-
 3 files changed, 3 insertions(+), 6 deletions(-)

commit 7d747a340849ff4da7f4cfcc3dd73b15cc1f4ae5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 26 00:07:54 2005 +0000

    Removed extra TODO item as nullmailer-inject already handles it.

 TODO | 3 ---
 1 file changed, 3 deletions(-)

commit 7e937ae6838f4f048eada733ee3834d530a1c04a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Feb 26 00:06:16 2005 +0000

    Fixed bug in handling headers containing CR+LF line endings.

 NEWS          | 2 ++
 TODO          | 3 ---
 src/inject.cc | 2 +-
 3 files changed, 3 insertions(+), 4 deletions(-)

commit c67c5eaad79527bce438b99040e3c2c837fbd318
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 25 23:52:31 2005 +0000

    Use a plain grep instead of formail to extract header entries.

 test/functions | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38b45971581c15e86248ec96e8b650653de7c2c4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 25 23:52:15 2005 +0000

    Use the "-n" argument to head and tail commands.

 test/tests/inject/recips | 2 +-
 test/tests/inject/sender | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 0cdb3f5ea009a7ace06f1ea34721fc064e87e85c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 25 23:50:11 2005 +0000

    Fixed bug in header parsing that would cause the last header line to
    be repeated if there was no body.

 NEWS          | 3 +++
 src/inject.cc | 1 +
 2 files changed, 4 insertions(+)

commit ff8d1b990502c773124ebd024a5dc027260b98dd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 25 22:33:59 2005 +0000

    Adjusted usage for newest automake 1.9 and autoconf 2.59 tools.

 acconfig.h   | 21 ---------------------
 acinclude.m4 | 58 +++++++++++++++++++++++++---------------------------------
 configure.in |  8 +++++---
 3 files changed, 30 insertions(+), 57 deletions(-)
 delete mode 100644 acconfig.h

commit 02301e054d43c30b605ff6e53e020b30bf80feb4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 21 22:23:55 2005 +0000

    Fixed problem with multiple arguments to protocol modules.
    Thanks Sascha Silbe <sascha-ml-nullmailer@silbe.org>

 NEWS        | 3 +++
 src/send.cc | 4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit b6ec5afabea7bb06d19d78ac3e64e4f7ee13bc61
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Feb 21 16:56:44 2005 +0000

    Fixed extraneous spaces in SMTP sender.

 NEWS              | 2 ++
 protocols/smtp.cc | 6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 22c89ba9c04455da98b2bba073e1e74ec9bfe3cb
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 12 23:47:07 2003 +0000

    Added reference to "me" config file in top-level documentation.

 doc/nullmailer.7 | 1 +
 1 file changed, 1 insertion(+)

commit 1ec58eba7492a3a17bb2609e87c7080292cba95d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 15 17:34:45 2003 +0000

    Fixed a bug in reporting errors in the result string -- they do need a
    newline.

 test/address-test.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 162bae93b1c6376d7104bd9572e80f09de40d39b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jan 15 17:34:08 2003 +0000

    Fixed the address parser handling domain names with trailing periods.

 NEWS                 | 2 ++
 lib/address.cc       | 5 +++--
 test/address-test.cc | 8 ++++++--
 3 files changed, 11 insertions(+), 4 deletions(-)

commit 499aaf4797e2fb4c007612b495324c24ccc28d57
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Jan 13 20:21:50 2003 +0000

    Fixed the warning on the cli_options list end marker.
    Patch from Martin Godisch <martin@godisch.de>

 protocols/protocol.cc | 2 +-
 src/inject.cc         | 2 +-
 src/sendmail.cc       | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 9a02750cc3cbe0f1b8ef6743470b2c6b84cd29da
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Jan 12 04:31:15 2003 +0000

    Handle the "-bs" flag in the sendmail wrapper by dieing when we see it.
    http://bugs.debian.org/170079
    Patch from Martin Godisch <martin@godisch.de>

 NEWS            | 2 ++
 src/sendmail.cc | 7 ++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit a1763f70cd0407894320de203ebf7541a78a7339
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Jan 12 04:27:24 2003 +0000

    Fixed some compile warnings.
    Patch from Martin Godisch <martin@godisch.de>

 lib/list.h      | 9 +++++----
 src/sendmail.cc | 2 +-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 83dcee3a92c4acedd8a68f4e544d07b9e30a2561
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Jan 12 04:25:07 2003 +0000

    Made permissions on queued files more strict.
    http://bugs.debian.org/164951

 NEWS         | 2 ++
 src/queue.cc | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 6382e441d3a332bf170bc9eeb25186ee45bb6090
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Jan 12 04:24:18 2003 +0000

    Bumped version up to 1.00RC8

 NEWS         | 11 ++++++++---
 configure.in |  2 +-
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 1aeae0c1cca00e85fb620212a49c8d9b73627358
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 23:10:21 2003 +0000

    Removed old items.

 TODO | 20 +++-----------------
 1 file changed, 3 insertions(+), 17 deletions(-)

commit 0d8c3e7333b07cfb23ab431ceb1a288a8d122301
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 23:09:46 2003 +0000

    Added note about setting up the "me" config file.

 HOWTO | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 9b80fcc1c41399f83c476bf445bbf331dbb142ec
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 21:49:25 2003 +0000

    Bumped up the version to 1.00RC7

 README | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35d3211c2104584cc2bf3982680a452afb3e6515
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 21:49:13 2003 +0000

    Added the ChangeLog.old file to the list of extras.

 makedist.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff31729908d8581446c724acb25b5571bd65f017
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 21:02:46 2003 +0000

    Updated dates on copyright marks.

 README                 | 4 ++--
 lib/address-old.cc     | 2 +-
 lib/address.cc         | 2 +-
 lib/canonicalize.cc    | 2 +-
 lib/config_read.cc     | 2 +-
 lib/config_readint.cc  | 2 +-
 lib/config_readlist.cc | 2 +-
 lib/errcodes.cc        | 2 +-
 lib/hostname.cc        | 2 +-
 lib/makefield.cc       | 2 +-
 lib/tcpconnect.cc      | 2 +-
 makedist.in            | 2 +-
 protocols/protocol.cc  | 2 +-
 protocols/qmqp.cc      | 2 +-
 protocols/smtp.cc      | 2 +-
 src/inject.cc          | 2 +-
 src/mailq.cc           | 2 +-
 src/queue.cc           | 2 +-
 src/send.cc            | 2 +-
 src/sendmail.cc        | 2 +-
 20 files changed, 21 insertions(+), 21 deletions(-)

commit 43be0087a7242853132c6fc6a53a132a5a146bf7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 21:02:18 2003 +0000

    Renamed ChangeLog to allow use of svn-generated ChangeLog

 ChangeLog => ChangeLog.old | 0
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename ChangeLog => ChangeLog.old (100%)

commit 376394e1af0f25e8ea0b168da70a79e9cffa6b08
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 20:51:59 2003 +0000

    Added a one-shot mode to nullmailer-send.

 NEWS                  | 3 +++
 doc/nullmailer-send.8 | 4 ++++
 src/send.cc           | 1 +
 3 files changed, 8 insertions(+)

commit ab8a90edce7c7f445e9729489b76e571f337f226
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Jan 3 20:40:21 2003 +0000

    Reset reload_files to false when the files are reloaded.

 src/send.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f2291a8bcc42973f02ba8f1d09e4cb46cb6c6862
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Dec 27 14:28:33 2002 +0000

    Fixed typo in smtp.cc -- "me" should be "hh".

 NEWS              | 2 ++
 protocols/smtp.cc | 3 +--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit b8c300ae4d5f6ee27c133a61d463ea0dd75ecad0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Dec 27 14:24:33 2002 +0000

    Bumped up version to 1.00RC7

 NEWS         | 12 +++++++++---
 configure.in |  2 +-
 2 files changed, 10 insertions(+), 4 deletions(-)

commit b39514ec1935d22571c94ccd187a3c7f7d04c834
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 20:50:55 2002 +0000

    Removed CVS note.

 README | 4 ----
 1 file changed, 4 deletions(-)

commit 4731fbd50f1e8ce9891cef664098a7f28def057f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 20:50:42 2002 +0000

    Set date to today.

 README | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 851cbab77a8f6018052d3a4df4a370b1eb7fd4b0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:25:01 2002 +0000

    Added note about new protocol module messages, new control file, and
    FutureQuest sponsorship.

 NEWS | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 8dc1b3d69d0192db41f9bafc7b8a0cc7d8d8c178
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:22:39 2002 +0000

    Fixups: also show the failure message, and use the proper exit code.

 protocols/protocol.cc | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 7868ecfff640373774da7aa88f74ed0aaf6a183d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:19:58 2002 +0000

    Show success messages as well.

 protocols/protocol.cc |  6 ++++++
 protocols/protocol.h  |  1 +
 protocols/qmqp.cc     |  2 +-
 protocols/smtp.cc     | 28 ++++++++++++++--------------
 4 files changed, 22 insertions(+), 15 deletions(-)

commit d66b1aec1546c236dfc033ee69e815a99147df50
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:14:11 2002 +0000

    Removed the superfluous "QUIT" command.

 protocols/smtp.cc | 1 -
 1 file changed, 1 deletion(-)

commit 3f030145f445adbbda33670f1ee620a776c4959a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:11:57 2002 +0000

    Output error messages when exiting with a failure code.

 protocols/protocol.cc | 18 +++++++++++++-----
 protocols/protocol.h  |  6 ++++--
 protocols/qmqp.cc     | 27 +++++++++++++--------------
 protocols/smtp.cc     | 17 ++++++++---------
 4 files changed, 38 insertions(+), 30 deletions(-)

commit cf5c0011a4b88eb89582b1f61d5b0f7916f59000
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 18:11:03 2002 +0000

    Allow protocol modules to output their own error messages.

 src/send.cc | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit c284b3127232e5f3b125d6577b39cb8fa5c0e00d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:52:49 2002 +0000

    Make sure to remove default{domain,host} before testing use of "me".

 test/tests/inject/from   | 1 +
 test/tests/inject/sender | 1 +
 2 files changed, 2 insertions(+)

commit dde9fa660686a66ae8ef11ce8dff3b5f4f95d51f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:52:22 2002 +0000

    Use the "me" control as the hostname to remap with adminaddr.

 doc/nullmailer-queue.8 | 9 +++------
 src/queue.cc           | 4 +---
 2 files changed, 4 insertions(+), 9 deletions(-)

commit 25c573a9cbdf65536e2804759544d5d7404fae4b
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:51:17 2002 +0000

    Use the "me" control as the idhost, not a default file.

 src/inject.cc | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 45943686ddb59555396a93757150f903de3c89a5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:50:38 2002 +0000

    Fixed up and documented the default host/domain rules.

 doc/nullmailer-inject.1 | 12 ++++++++----
 lib/hostname.cc         | 15 +++++++++++----
 2 files changed, 19 insertions(+), 8 deletions(-)

commit f6c69210eb981915189202e545691b867e82dfbd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:38:45 2002 +0000

    Only append a "." to the domain name (when appending the defaultdomain)
    if it isn't empty.

 lib/canonicalize.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ecde7805dd7a5a81a9a72e3efcc5b3c7bdeea7a8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:27:33 2002 +0000

    Auto-create /etc/nullmailer/{me,defaultdomain} on install.

 spec | 6 ++++++
 1 file changed, 6 insertions(+)

commit 9d9cf4abe2823f064490353e65050454e03ec5dd
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 17:22:36 2002 +0000

    Fixed up tests for the new "me" control file.

 test/functions               |  4 ++--
 test/tests/inject/from       |  5 ++---
 test/tests/inject/message-id |  5 ++---
 test/tests/inject/sender     | 15 ++++-----------
 test/tests/protocols         |  1 +
 test/tests/queue/rewrite     |  3 +--
 6 files changed, 12 insertions(+), 21 deletions(-)

commit 2dcada1a8420f0cd2071f7d5400d36d90da9168f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 16:59:48 2002 +0000

    Fixup the tests for the more strict bash2 syntax.

 test/functions                | 10 ++++++----
 test/tests/inject/bad-headers |  2 +-
 test/tests/inject/date        |  2 +-
 test/tests/inject/from        |  2 +-
 test/tests/inject/message-id  |  2 +-
 test/tests/inject/recips      |  6 +++---
 test/tests/inject/return-path |  2 +-
 test/tests/inject/sender      |  6 +++---
 8 files changed, 17 insertions(+), 15 deletions(-)

commit a608374d86fa96f1684ac9a97e20ee5ad905c797
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Dec 23 16:59:26 2002 +0000

    Skip over the .svn directory instead of the CVS directory.

 test/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b969ad0011e096337e1df8b726a4dab31009ac5e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Dec 17 17:49:04 2002 +0000

    Renamed lib/cli to lib/cli++

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit beec6d81cdddd0e97075f0376a7695f8eace77d8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:36:45 2002 +0000

    Renamed lib/cli to lib/cli++ to match the current sources.

 lib/Makefile.am       | 2 +-
 protocols/Makefile.am | 6 +++---
 protocols/protocol.cc | 2 +-
 src/Makefile.am       | 6 +++---
 src/inject.cc         | 2 +-
 src/sendmail.cc       | 2 +-
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 6236adb6505b8de30d84cd21c77e2fde431813ef
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:29:43 2002 +0000

    *** empty log message ***

 TODO | 7 +++++++
 1 file changed, 7 insertions(+)

commit d61f752fbb528a39e25dee76318ee0710c86761e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:29:39 2002 +0000

    Added some empty address list tests.

 test/address-test.cc | 8 ++++++++
 1 file changed, 8 insertions(+)

commit f6bd9e96236bc9d15ace31b3a9bcf8f417bd2453
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:29:06 2002 +0000

    Clarified documentation.

 doc/nullmailer-inject.1 |  3 +++
 doc/nullmailer-send.8   | 13 ++++++++++---
 2 files changed, 13 insertions(+), 3 deletions(-)

commit da5599048065408b11898be922d8666b9ac42fb3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:28:13 2002 +0000

    Remove the CXXLINK hack that prevents compilation with newer versions of
    gcc.

 protocols/Makefile.am | 1 -
 src/Makefile.am       | 1 -
 test/Makefile.am      | 1 -
 3 files changed, 3 deletions(-)

commit 7b404a44924cab6728dce8b44ad87148ab12a3a4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:27:40 2002 +0000

    Pass $HELOHOST on to the protocol modules.

 protocols/smtp.cc | 3 ++-
 src/send.cc       | 7 +++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit da880344f08b66367f1017eb5963450d5c916e91
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 05:21:51 2002 +0000

    Completed the conversion from hostname() to the new config files.

 lib/canonicalize.cc |  4 +--
 lib/hostname.cc     | 70 +++++++++--------------------------------------------
 lib/hostname.h      |  7 ++++--
 protocols/smtp.cc   |  3 ++-
 src/inject.cc       |  8 +-----
 src/queue.cc        |  6 +----
 6 files changed, 21 insertions(+), 77 deletions(-)

commit abf914f1e1c9c0f083760a2ac5fc4dc474ebce12
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Dec 15 03:18:09 2002 +0000

    Fixed a bug in the setenv function in sendmail.cc.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 6d6b72544f4f345a6b811fcb18035eedb848a612
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Sep 22 05:15:29 2001 +0000

    The parameter for putenv must not be automatic.

 src/sendmail.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0bfd0e7986ed7eef63c763723a13beb5cb0aac6e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Aug 26 03:49:12 2001 +0000

    Drop address header fields with blank contents.

 src/inject.cc | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 0eb76674d28ec00176cda2e21e04c8eacf825450
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Aug 26 03:46:23 2001 +0000

    Completed handling empty address lists.

 lib/address.cc | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit da92f1e915dfceb6502047b3f0388e90987a303f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sun Aug 26 03:15:31 2001 +0000

    Modified to properly parse an empty address field as empty.

 lib/address.cc | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit f9623df6d301f8092e033e1506defa51f9428189
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:39:40 2001 +0000

    Updated for the new untroubled.org web site.

 makedist.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 432fea67613a7a32218d4ae3b6826b74182c7b67
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:39:18 2001 +0000

    *** empty log message ***

 NEWS   |  7 +++++++
 README |  6 ++++++
 TODO   | 21 +++++++++++++++++++--
 3 files changed, 32 insertions(+), 2 deletions(-)

commit 853dabd29822cc4b25dd56a652bd028d888e0199
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:38:54 2001 +0000

    Redirect stderr to stdout before starting anything else to catch error
    messages.

 scripts/nullmailer.run | 1 +
 1 file changed, 1 insertion(+)

commit dbb47f9cecb13595241cd7daeb3bc6af27a930e9
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:38:29 2001 +0000

    Fixed a quoting bug with handling lines starting with ".".

 protocols/smtp.cc | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit f353c7acadf52776286d3ff59406a20513570b90
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:37:33 2001 +0000

    Tidied up the library function checks.

 configure.in | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit dacc07ea5f76fc94775e60b8e724754647383c97
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 10 01:36:59 2001 +0000

    Added an ignored option entry from the sendmail "-m" option.

 src/sendmail.cc | 1 +
 1 file changed, 1 insertion(+)

commit efbb131064feceb37660df104c68fd1bf4c525b5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Mar 29 21:57:30 2001 +0000

    Fixed instructions on RPM startup.

 HOWTO | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6398dc58e24a54ee71115d6f2cabaee8d067646d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Mar 29 21:57:06 2001 +0000

    *** empty log message ***

 TODO | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit b1e425291726b6fa8cc437e06f440991a0fe770d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Mar 29 21:56:36 2001 +0000

    Removed unnecessary init.d directory, and added in the man7 pages.

 spec | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 45dbeb96ea19ca1a64f9edd16ad12e2714772ae8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Feb 27 22:38:05 2001 +0000

    Fixed some include file problems with sys/time.h.

 NEWS             | 4 ++--
 configure.in     | 4 ++--
 lib/makefield.cc | 2 +-
 src/send.cc      | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 7cdfa39c46ee4b934d7ad21ba7414e38cf135194
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 7 21:45:32 2001 +0000

    *** empty log message ***

 ChangeLog | 5 +++++
 README    | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 29bf85c4dd9fb2f27c27fd94c48df4389c3ba9b8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Feb 7 21:45:13 2001 +0000

    Modified to always attempt to send everything in the queue.

 src/send.cc | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 74e72decb13a35cad74750daf08a23d2f7c71c85
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 2 02:30:36 2001 +0000

    Bumped up version number to 1.00RC6.

 ChangeLog    |  4 ++++
 NEWS         | 11 ++++++++---
 TODO         |  5 +++++
 configure.in |  2 +-
 4 files changed, 18 insertions(+), 4 deletions(-)

commit 4a6ad6d42872d58eaac0604e28c05fd852ee52e3
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Feb 2 02:28:53 2001 +0000

    Added a missing include.

 lib/hostname.cc | 1 +
 src/send.cc     | 1 +
 2 files changed, 2 insertions(+)

commit 29e1d10faada18b867f5ffa0b84abaa38625c189
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 10:22:46 2000 +0000

    Added 1.00RC5 release notes.

 NEWS | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 11a605944d897d9bfb51abcbc5a65af9db673b84
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 10:18:42 2000 +0000

    *** empty log message ***

 makedist.in | 3 ++-
 spec        | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 841ccae483442aba48ad0d9b8312beea0a4bb5f0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 10:16:46 2000 +0000

    Make the service directory.

 spec | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b5a02d72560f8a58149d907408b6d6d55759879e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 10:12:45 2000 +0000

    Bumped up version number.

 README       | 4 ++--
 configure.in | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 0a0590220eacca1bb7965d414d2aab2ca26b4675
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 09:47:26 2000 +0000

    Removed unnecessary init script.

 scripts/nullmailer.init | 39 ---------------------------------------
 1 file changed, 39 deletions(-)
 delete mode 100644 scripts/nullmailer.init

commit adad7709bf7490eb355ff5eeede0a1d3b60be3e5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 09:47:17 2000 +0000

    Modified to use supervise-scripts 3.

 spec | 38 +++++++++++++++-----------------------
 1 file changed, 15 insertions(+), 23 deletions(-)

commit d62e97b74d464bb7863fb755272a7fa33c3b8578
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 09:41:21 2000 +0000

    Return proper error codes for permanent and temporary SMTP failures.

 protocols/smtp.cc | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit c6654636d6e2812e371ee1193e815412ea117a20
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 09:41:02 2000 +0000

    Fixed the prototype for getdomainname.

 lib/hostname.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef0704b64da065036a7193dbfd5141043ac00aad
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Dec 30 09:40:44 2000 +0000

    *** empty log message ***

 ChangeLog | 9 +++++++++
 HOWTO     | 2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 3adb189998e0f75e03129a017fbc1d399739303e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Aug 30 20:58:37 2000 +0000

    Moved extern declaration of getdomainname out of the function.

 lib/hostname.cc | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 5cede356e41da63b71a1efa0d8a5887dbe847a18
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 29 05:11:45 2000 +0000

    Added missing INSTALL dist file.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 37b555d7173f83a89bdfdb7324a041d8d39c281a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 29 05:11:09 2000 +0000

    Renamed the script files.

 scripts/{run-log => nullmailer-log.run} | 0
 scripts/{init => nullmailer.init}       | 0
 scripts/{run-svc => nullmailer.run}     | 0
 spec                                    | 6 +++---
 4 files changed, 3 insertions(+), 3 deletions(-)
 rename scripts/{run-log => nullmailer-log.run} (100%)
 rename scripts/{init => nullmailer.init} (100%)
 rename scripts/{run-svc => nullmailer.run} (100%)

commit 195f92e0b52b263cf908701fa929a277eb14ca12
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 29 00:07:50 2000 +0000

    Fixed up forgotten ChangeLog entries.

 ChangeLog | 7 +++++++
 1 file changed, 7 insertions(+)

commit 9685b2cccd7befeb33631da041d93544b5425fe7
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 29 00:00:15 2000 +0000

    Final RC4 update.

 NEWS   | 8 +++++---
 README | 2 +-
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 46994cdeb5a3d6331e9e6a069273677ed5ffb694
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Aug 28 23:58:38 2000 +0000

    Test addresses with trailing periods.

 test/address-test.cc | 4 ++++
 1 file changed, 4 insertions(+)

commit b7deddd27024f40efb9605d8db0e3bba11233377
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Aug 28 23:57:43 2000 +0000

    Fixed to handle addresses with trailing periods.

 lib/address.cc | 22 +++++++++++++---------
 1 file changed, 13 insertions(+), 9 deletions(-)

commit 022a4edce2341a45836c75492f0bf33f45b5e281
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Aug 16 01:28:46 2000 +0000

    Added extern declaration of getdomainname for systems that don't declare
    it.

 lib/hostname.cc | 1 +
 1 file changed, 1 insertion(+)

commit d13669d5bec5b7d2d451b35429cb72371e4fe876
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Aug 16 01:28:25 2000 +0000

    *** empty log message ***

 ChangeLog | 5 +++++
 NEWS      | 1 +
 TODO      | 4 ----
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 5dd4e7c4559d934c603b7440f56f8b9c65d0c7b1
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Aug 16 01:21:22 2000 +0000

    Updated install instructions in HOWTO, removed the modified INSTALL
    document.

 HOWTO   |  22 ++++----
 INSTALL | 184 ----------------------------------------------------------------
 README  |   2 +-
 TODO    |   4 ++
 4 files changed, 14 insertions(+), 198 deletions(-)
 delete mode 100644 INSTALL

commit d45b24c27720452fd0c7102a1a6e88bfca4a4b7d
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Aug 16 01:13:24 2000 +0000

    Added custom INSTALL instructions.

 INSTALL | 184 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 184 insertions(+)
 create mode 100644 INSTALL

commit b868ae6ecebc1030a20befbf2619529ed57a775a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 15 22:45:39 2000 +0000

    Ignore warnings from compile output.

 acinclude.m4 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88f19c732b2ed6f8fdc91a140b4b1076a0f6ef71
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Mon Aug 14 21:05:51 2000 +0000

    Fixed the reversed named pipe bug logic.

 NEWS         | 6 ++++++
 acinclude.m4 | 3 ++-
 configure.in | 2 +-
 3 files changed, 9 insertions(+), 2 deletions(-)

commit e11b9203bf2b7fb2ae57e6f91d3e72349b700fd8
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Aug 11 11:10:25 2000 +0000

    1.00RC3 release checkin.

 ChangeLog   |  2 ++
 NEWS        |  1 +
 README      |  4 ++--
 makedist.in | 13 +++++--------
 4 files changed, 10 insertions(+), 10 deletions(-)

commit 294e5aa230f8e6557574c4e6417c5435c738822c
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Aug 11 11:09:41 2000 +0000

    Fixed a problem with multiple use of itoa.

 test/address-test.cc | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 75c881a04cc16ae09c60938fe950c0c0ac9ef560
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Aug 11 00:48:19 2000 +0000

    Added configure test for named pipe bug.

 ChangeLog    | 21 +++++++++++++++++++++
 NEWS         |  5 +++++
 TODO         | 11 +++++------
 acconfig.h   |  2 ++
 acinclude.m4 | 34 ++++++++++++++++++++++++++++++++++
 configure.in |  4 +++-
 6 files changed, 70 insertions(+), 7 deletions(-)

commit be2db683e5cb28ebd4701c9554650a3ca6eb4681
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Fri Aug 11 00:47:53 2000 +0000

    Fixed header parsing logic.

 src/inject.cc | 80 ++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 49 insertions(+), 31 deletions(-)

commit 5852e4eb6e687c16f4f242fe957de709e554e3c4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 11:09:35 2000 +0000

    Added code to handle systems that require a writer on the named pipe.

 src/send.cc | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 7c8ee6dd883babf00442b3082bda73b50cb05c5a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 11:08:43 2000 +0000

    Added a handler for the -L sendmail option (ignored).

 src/sendmail.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f45ce51c6178a7e4b799781166c70a1a897457e4
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 11:08:08 2000 +0000

    Added man page for the sendmail emulator.

 doc/Makefile.am |  1 +
 doc/sendmail.1  | 75 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 76 insertions(+)
 create mode 100644 doc/sendmail.1

commit c40bd02e6cf8c0a6c3706503ac3f88489f1c0678
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 10:43:47 2000 +0000

    Added an overall man page for nullmailer.

 doc/Makefile.am  |  5 +++--
 doc/nullmailer.7 | 30 ++++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 2 deletions(-)
 create mode 100644 doc/nullmailer.7

commit 914c03a6dbbb4e1052090939ee89b91b9cf44cf2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 10:31:02 2000 +0000

    Fixed a typo in the root-install chmods.

 Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 169c32515a18966632adc2d23df19c83324f3c61
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Aug 8 10:16:13 2000 +0000

    Fixed some typos.

 lib/tcpconnect.cc | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4c0ee03eb407127c4ba741d2240defaeeb95cbc2
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Sat Jul 8 00:21:53 2000 +0000

    Fixed up release notes.

 ChangeLog | 2 ++
 NEWS      | 5 +++++
 TODO      | 3 ++-
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 72e2c21a123deb0636e99f7c140dbb06ce45ecb5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jul 4 09:37:35 2000 +0000

    Fixed typo in lib/hostname.cc

 ChangeLog       | 5 +++++
 lib/hostname.cc | 6 +++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 9110a039f500dcdb7158f21a8023a569967d541a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jun 28 21:27:46 2000 +0000

    Added utsname tests to configure.

 ChangeLog    | 10 ++++++++++
 NEWS         |  9 +++++++++
 acconfig.h   |  2 ++
 acinclude.m4 | 27 +++++++++++++++++++++++++++
 configure.in |  3 ++-
 5 files changed, 50 insertions(+), 1 deletion(-)

commit 7407ffc714f0ae8b7be3e144b26586b241747ec5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jun 28 21:26:44 2000 +0000

    Fixed domain name determination bug, and portability fix in mergelib.sh

 lib/hostname.cc | 34 ++++++++++++++++++++++++++++------
 lib/mergelib.sh |  2 +-
 2 files changed, 29 insertions(+), 7 deletions(-)

commit ac5526eb24b95b6f39ee009104da2f2c867913c0
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Wed Jun 28 21:26:05 2000 +0000

    Fixed response number bug.

 protocols/smtp.cc | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b0e7a7464abe860551226e0870dd3f37f6ddc365
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Tue Jun 20 01:47:50 2000 +0000

    Fixed a minor type bug.

 ChangeLog         | 5 +++++
 lib/tcpconnect.cc | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit b9d8016c91144d1986029bc1bb7ad539c251b233
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 21:26:49 2000 +0000

    Final release 1.00RC1 check in.

 ChangeLog | 2 ++
 1 file changed, 2 insertions(+)

commit 4a07e155c61694340e6f797b55bbf48a941dbafa
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 21:22:13 2000 +0000

    Final 1.00RC1 check in.

 NEWS | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit fcae2ba8b7bac005c7b0de960663f6e20c37deb6
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 21:20:59 2000 +0000

    Fixed up NEWS and README to reflect new version number.

 NEWS         |  2 +-
 README       | 11 +++++++++++
 configure.in |  2 +-
 3 files changed, 13 insertions(+), 2 deletions(-)

commit bf50ea12ddf8170cf5d2cc87bfeee4175d2d617f
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 21:13:53 2000 +0000

    Fixed up copyright notices.

 lib/address-old.cc     | 21 +++++++++++++++++++++
 lib/address.cc         | 21 +++++++++++++++++++++
 lib/canonicalize.cc    | 21 +++++++++++++++++++++
 lib/config_read.cc     | 21 +++++++++++++++++++++
 lib/config_readint.cc  | 21 +++++++++++++++++++++
 lib/config_readlist.cc | 21 +++++++++++++++++++++
 lib/errcodes.cc        | 21 +++++++++++++++++++++
 lib/hostname.cc        | 21 +++++++++++++++++++++
 lib/makefield.cc       | 21 +++++++++++++++++++++
 lib/tcpconnect.cc      | 21 +++++++++++++++++++++
 protocols/protocol.cc  |  4 ++--
 protocols/qmqp.cc      | 21 +++++++++++++++++++++
 protocols/smtp.cc      | 21 +++++++++++++++++++++
 src/inject.cc          | 21 +++++++++++++++++++++
 src/mailq.cc           | 21 +++++++++++++++++++++
 src/queue.cc           | 21 +++++++++++++++++++++
 src/send.cc            | 21 +++++++++++++++++++++
 src/sendmail.cc        |  4 ++--
 18 files changed, 340 insertions(+), 4 deletions(-)

commit 81cbaafd9f3054a18c3b47fe43e8300473b2db21
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 21:13:42 2000 +0000

    Added note on bug fix to lib/makefields.cc

 ChangeLog | 7 +++++++
 1 file changed, 7 insertions(+)

commit ef8870f75cfb67b2e4745a43ab9cf008fff17165
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 20:59:15 2000 +0000

    Removed compiled binary file address-test.

 test/address-test | Bin 239088 -> 0 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 test/address-test

commit e4438a9a7ee6c094b0fa7aa3d07a864482f2e5b5
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 20:58:41 2000 +0000

    Fixed include file paths.

 protocols/Makefile.am |   4 ++--
 protocols/protocol.h  |   2 +-
 protocols/qmqp.cc     |   4 ++--
 protocols/smtp.cc     |   4 ++--
 src/inject.cc         |  12 ++++++------
 src/mailq.cc          |   2 +-
 src/queue.cc          |   6 +++---
 src/send.cc           |   2 +-
 src/sendmail.cc       |   4 ++--
 test/Makefile.am      |   2 +-
 test/address-test     | Bin 231376 -> 239088 bytes
 test/address-test.cc  |   4 ++--
 12 files changed, 23 insertions(+), 23 deletions(-)

commit 528cc2d62f77e9d5024494e087b06f194b13411e
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 20:58:12 2000 +0000

    Fixed include file paths, added missing shell scripts and removed some
    unnecessary headers.

 lib/Makefile.am        | 13 ++++++++-----
 lib/address.cc         |  2 +-
 lib/address.h          |  2 +-
 lib/canonicalize.cc    |  4 ++--
 lib/canonicalize.h     |  2 +-
 lib/config_read.cc     |  2 +-
 lib/config_readint.cc  |  2 +-
 lib/config_readlist.cc |  2 +-
 lib/configio.h         |  2 +-
 lib/connect.h          |  2 +-
 lib/defines.cc         |  8 --------
 lib/fdbuf.h            |  0
 lib/hostname.cc        |  4 ++--
 lib/make_defines.sh    |  9 +++++++++
 lib/makefield.cc       | 25 ++++++++++---------------
 lib/mergelib.sh        | 16 ++++++++++++++++
 lib/mystring.h         |  0
 lib/netstring.h        |  2 +-
 18 files changed, 56 insertions(+), 41 deletions(-)
 delete mode 100644 lib/defines.cc
 delete mode 100644 lib/fdbuf.h
 create mode 100644 lib/make_defines.sh
 create mode 100644 lib/mergelib.sh
 delete mode 100644 lib/mystring.h

commit 2c137077a1f079c8e3073dee5c45faf172391faf
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Jun 15 20:57:32 2000 +0000

    Bumped the version number, and touched up the README and NEWS.

 NEWS         | 6 ++++++
 README       | 4 +---
 configure.in | 2 +-
 makedist.in  | 2 ++
 4 files changed, 10 insertions(+), 4 deletions(-)

commit e2dc08d88ac995de9541b544b88e46e393a7079a
Author: Bruce Guenter <bruce@untroubled.org>
Date:   Thu Feb 17 00:24:45 2000 +0000

    Imported sources.

 AUTHORS                       |   1 +
 BUGS                          |   4 +
 ChangeLog                     | 435 +++++++++++++++++++++++++++++
 HOWTO                         |  45 +++
 Makefile.am                   |  28 ++
 NEWS                          | 143 ++++++++++
 README                        |   9 +
 TODO                          |   5 +
 YEAR2000                      |  10 +
 acconfig.h                    |  17 ++
 acinclude.m4                  |  71 +++++
 configure.in                  |  50 ++++
 doc/Makefile.am               |   6 +
 doc/diagram                   |  21 ++
 doc/nullmailer-inject.1       | 240 ++++++++++++++++
 doc/nullmailer-queue.8        |  51 ++++
 doc/nullmailer-send.8         |  72 +++++
 lib/Makefile.am               |  36 +++
 lib/address-old.cc            | 560 ++++++++++++++++++++++++++++++++++++++
 lib/address.cc                | 619 ++++++++++++++++++++++++++++++++++++++++++
 lib/address.h                 |   8 +
 lib/canonicalize.cc           |  19 ++
 lib/canonicalize.h            |   7 +
 lib/config_read.cc            |  15 +
 lib/config_readint.cc         |  15 +
 lib/config_readlist.cc        |  23 ++
 lib/configio.h                |  11 +
 lib/connect.h                 |   8 +
 lib/defines.cc                |   8 +
 lib/defines.h                 |  13 +
 lib/errcodes.cc               |  24 ++
 lib/errcodes.h                |  26 ++
 lib/fdbuf.h                   |   0
 lib/hostname.cc               |  34 +++
 lib/hostname.h                |   7 +
 lib/itoa.cc                   |  23 ++
 lib/itoa.h                    |  11 +
 lib/list.h                    | 196 +++++++++++++
 lib/listtest.cc               |  50 ++++
 lib/makefield.cc              |  55 ++++
 lib/mystring.h                |   0
 lib/netstring.cc              |  13 +
 lib/netstring.h               |   8 +
 lib/tcpconnect.cc             |  46 ++++
 makedist.in                   |  42 +++
 protocols/Makefile.am         |  11 +
 protocols/protocol.cc         |  52 ++++
 protocols/protocol.h          |  12 +
 protocols/qmqp.cc             | 113 ++++++++
 protocols/smtp.cc             | 118 ++++++++
 scripts/init                  |  39 +++
 scripts/run-log               |   2 +
 scripts/run-svc               |   2 +
 spec                          |  93 +++++++
 src/Makefile.am               |  28 ++
 src/address-main.cc           |  21 ++
 src/inject.cc                 | 542 ++++++++++++++++++++++++++++++++++++
 src/mailq.cc                  |  38 +++
 src/queue.cc                  | 179 ++++++++++++
 src/send.cc                   | 286 +++++++++++++++++++
 src/sendmail.cc               | 135 +++++++++
 test/Makefile.am              |  24 ++
 test/address-test             | Bin 0 -> 231376 bytes
 test/address-test.cc          | 177 ++++++++++++
 test/address-trace.cc         |   2 +
 test/functions                |  41 +++
 test/tests/inject/bad-headers |  15 +
 test/tests/inject/date        |  12 +
 test/tests/inject/from        |  66 +++++
 test/tests/inject/message-id  |  24 ++
 test/tests/inject/recips      |  50 ++++
 test/tests/inject/return-path |   9 +
 test/tests/inject/sender      |  76 ++++++
 test/tests/protocols          |  44 +++
 test/tests/queue/rewrite      |  45 +++
 75 files changed, 5341 insertions(+)
 create mode 100644 AUTHORS
 create mode 100644 BUGS
 create mode 100644 ChangeLog
 create mode 100644 HOWTO
 create mode 100644 Makefile.am
 create mode 100644 NEWS
 create mode 100644 README
 create mode 100644 TODO
 create mode 100644 YEAR2000
 create mode 100644 acconfig.h
 create mode 100644 acinclude.m4
 create mode 100644 configure.in
 create mode 100644 doc/Makefile.am
 create mode 100644 doc/diagram
 create mode 100644 doc/nullmailer-inject.1
 create mode 100644 doc/nullmailer-queue.8
 create mode 100644 doc/nullmailer-send.8
 create mode 100644 lib/Makefile.am
 create mode 100644 lib/address-old.cc
 create mode 100644 lib/address.cc
 create mode 100644 lib/address.h
 create mode 100644 lib/canonicalize.cc
 create mode 100644 lib/canonicalize.h
 create mode 100644 lib/config_read.cc
 create mode 100644 lib/config_readint.cc
 create mode 100644 lib/config_readlist.cc
 create mode 100644 lib/configio.h
 create mode 100644 lib/connect.h
 create mode 100644 lib/defines.cc
 create mode 100644 lib/defines.h
 create mode 100644 lib/errcodes.cc
 create mode 100644 lib/errcodes.h
 create mode 100644 lib/fdbuf.h
 create mode 100644 lib/hostname.cc
 create mode 100644 lib/hostname.h
 create mode 100644 lib/itoa.cc
 create mode 100644 lib/itoa.h
 create mode 100644 lib/list.h
 create mode 100644 lib/listtest.cc
 create mode 100644 lib/makefield.cc
 create mode 100644 lib/mystring.h
 create mode 100644 lib/netstring.cc
 create mode 100644 lib/netstring.h
 create mode 100644 lib/tcpconnect.cc
 create mode 100644 makedist.in
 create mode 100644 protocols/Makefile.am
 create mode 100644 protocols/protocol.cc
 create mode 100644 protocols/protocol.h
 create mode 100644 protocols/qmqp.cc
 create mode 100644 protocols/smtp.cc
 create mode 100644 scripts/init
 create mode 100644 scripts/run-log
 create mode 100644 scripts/run-svc
 create mode 100644 spec
 create mode 100644 src/Makefile.am
 create mode 100644 src/address-main.cc
 create mode 100644 src/inject.cc
 create mode 100644 src/mailq.cc
 create mode 100644 src/queue.cc
 create mode 100644 src/send.cc
 create mode 100644 src/sendmail.cc
 create mode 100644 test/Makefile.am
 create mode 100644 test/address-test
 create mode 100644 test/address-test.cc
 create mode 100644 test/address-trace.cc
 create mode 100644 test/functions
 create mode 100644 test/tests/inject/bad-headers
 create mode 100644 test/tests/inject/date
 create mode 100644 test/tests/inject/from
 create mode 100644 test/tests/inject/message-id
 create mode 100644 test/tests/inject/recips
 create mode 100644 test/tests/inject/return-path
 create mode 100644 test/tests/inject/sender
 create mode 100644 test/tests/protocols
 create mode 100644 test/tests/queue/rewrite
